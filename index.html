<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>홍익AI 보고서생성기 - AI-Powered Business Intelligence Platform</title>
  
  <!-- Tailwind CSS CDN -->
  <script src="https://cdn.tailwindcss.com"></script>
  
  <!-- Chart.js CDN -->
  <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.0/dist/chart.umd.min.js"></script>
  
  <!-- Lucide Icons CDN -->
  <script src="https://unpkg.com/lucide@latest"></script>
  
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }
    
    body {
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Apple SD Gothic Neo', 'Noto Sans KR', sans-serif;
      background: linear-gradient(135deg, #f1f5f9 0%, #e2e8f0 100%);
      min-height: 100vh;
    }
    
    .container {
      max-width: 1400px;
      margin: 0 auto;
      padding: 0 24px;
    }
    
    /* 스크롤바 스타일 */
    ::-webkit-scrollbar {
      width: 12px;
    }
    
    ::-webkit-scrollbar-track {
      background: #f1f1f1;
    }
    
    ::-webkit-scrollbar-thumb {
      background: #888;
      border-radius: 6px;
    }
    
    ::-webkit-scrollbar-thumb:hover {
      background: #555;
    }
    
    /* 애니메이션 */
    @keyframes fadeIn {
      from { opacity: 0; transform: translateY(10px); }
      to { opacity: 1; transform: translateY(0); }
    }
    
    .fade-in {
      animation: fadeIn 0.3s ease-out;
    }
    
    /* 드롭다운 메뉴 */
    .dropdown-menu {
      display: none;
      position: absolute;
      top: 100%;
      left: 0;
      width: 100%;
      background: white;
      border: 1px solid #d1d5db;
      box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1);
      z-index: 50;
    }
    
    .menu-item:hover .dropdown-menu {
      display: block;
    }
    
    /* 채팅 메시지 스타일 */
    .chat-message {
      max-width: 80%;
      padding: 12px 16px;
      border-radius: 12px;
      margin-bottom: 12px;
      animation: fadeIn 0.3s ease-out;
    }
    
    .chat-message.user {
      background: #0F4C81;
      color: white;
      margin-left: auto;
      border-radius: 12px 12px 0 12px;
    }
    
    .chat-message.ai {
      background: #f3f4f6;
      color: #1f2937;
      margin-right: auto;
      border-radius: 12px 12px 12px 0;
    }
    
    /* 타이핑 애니메이션 */
    .typing-indicator {
      display: inline-flex;
      gap: 4px;
    }
    
    .typing-indicator span {
      width: 8px;
      height: 8px;
      background: #6b7280;
      border-radius: 50%;
      animation: typing 1.4s infinite;
    }
    
    .typing-indicator span:nth-child(2) {
      animation-delay: 0.2s;
    }
    
    .typing-indicator span:nth-child(3) {
      animation-delay: 0.4s;
    }
    
    @keyframes typing {
      0%, 60%, 100% { transform: translateY(0); }
      30% { transform: translateY(-10px); }
    }
    
    /* 카드 호버 효과 */
    .card-hover {
      transition: all 0.3s ease;
    }
    
    .card-hover:hover {
      transform: translateY(-4px);
      box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.1);
    }
  </style>
</head>
<body>
  
  <!-- Header -->
  <header id="header" class="fixed top-0 left-0 right-0 z-50 bg-white border-b-4 border-blue-800">
    <!-- Top Bar -->
    <div class="bg-[#0F4C81] text-white border-b-2 border-[#083357]">
      <div class="container py-2.5 flex items-center justify-between">
        <div class="flex items-center gap-6 text-sm font-semibold">
          <span class="flex items-center gap-2">
            <i data-lucide="user" class="w-4 h-4"></i>
            <span>김홍익 이사님</span>
          </span>
          <div class="w-px h-4 bg-blue-400"></div>
          <button onclick="showBookmarks()" class="flex items-center gap-1.5 hover:text-yellow-300 transition-colors font-bold">
            <i data-lucide="bookmark" class="w-4 h-4"></i>
            <span>저장된 보고서</span>
          </button>
        </div>
        <div class="flex items-center gap-4 text-sm font-semibold">
          <button class="hover:text-yellow-300 transition-colors">로그인</button>
          <div class="w-px h-4 bg-blue-400"></div>
          <button class="hover:text-yellow-300 transition-colors">회원가입</button>
          <div class="w-px h-4 bg-blue-400"></div>
          <button class="relative p-1.5 hover:bg-blue-700 rounded transition-colors">
            <i data-lucide="bell" class="w-4 h-4"></i>
            <span class="absolute -top-0.5 -right-0.5 w-3 h-3 bg-red-600 rounded-full border-2 border-white"></span>
          </button>
        </div>
      </div>
    </div>

    <!-- Main Header -->
    <div class="bg-white border-b-3 border-gray-200">
      <div class="container py-5">
        <div class="flex items-center justify-between gap-6">
          <!-- Logo -->
          <div class="flex items-center gap-4">
            <div class="w-16 h-16 bg-[#0F4C81] rounded-xl flex items-center justify-center border-4 border-[#1E5A8E]">
              <span class="text-white font-black text-3xl">홍</span>
            </div>
            <div>
              <h1 class="text-2xl font-black text-[#0F4C81] tracking-tight">홍익AI 보고서생성기</h1>
              <p class="text-xs text-gray-600 font-bold">AI-Powered Business Intelligence Platform</p>
            </div>
          </div>

          <!-- Search Bar -->
          <div class="flex-1 max-w-lg">
            <div class="relative">
              <input
                type="text"
                id="searchInput"
                placeholder="보고서 검색 (예: 매출분석, 인사현황)"
                class="w-full px-5 py-3.5 pr-12 border-3 border-gray-400 rounded-lg focus:border-[#0F4C81] focus:outline-none font-semibold text-gray-800 placeholder-gray-500"
              />
              <button class="absolute right-2 top-1/2 -translate-y-1/2 p-2 bg-[#0F4C81] hover:bg-[#1E5A8E] rounded-md transition-colors">
                <i data-lucide="search" class="w-5 h-5 text-white"></i>
              </button>
            </div>
          </div>

          <!-- Data Upload Button -->
          <button
            onclick="showDataManager()"
            class="flex items-center gap-2.5 px-6 py-3.5 bg-[#E85D04] hover:bg-[#DC2F02] text-white rounded-lg font-black shadow-lg border-2 border-[#DC2F02] transition-all hover:scale-105"
          >
            <i data-lucide="database" class="w-6 h-6"></i>
            <span class="text-base">데이터 관리</span>
          </button>
        </div>
      </div>
    </div>

    <!-- Navigation Menu -->
    <nav class="bg-gradient-to-r from-gray-100 to-gray-200 border-b-4 border-gray-400">
      <div class="container">
        <div class="flex items-center gap-2">
          <!-- AI 비서 -->
          <div class="relative menu-item flex-1">
            <button
              onclick="navigateTo('chatbot')"
              class="relative flex items-center justify-center gap-2.5 px-5 py-4 text-gray-800 font-bold text-base w-full transition-all hover:bg-white hover:shadow-md"
              id="menu-chatbot"
            >
              <i data-lucide="home" class="w-5 h-5"></i>
              <span>AI 비서</span>
              <span class="ml-2 px-2 py-0.5 text-xs font-bold rounded bg-green-600 text-white">추천</span>
            </button>
          </div>

          <!-- 회계·재무 -->
          <div class="relative menu-item flex-1">
            <button class="relative flex items-center justify-center gap-2.5 px-5 py-4 text-gray-800 font-bold text-base w-full transition-all hover:bg-white hover:shadow-md">
              <i data-lucide="file-text" class="w-5 h-5"></i>
              <span>회계·재무</span>
              <i data-lucide="chevron-down" class="w-4 h-4 ml-1"></i>
            </button>
            <div class="dropdown-menu">
              <button onclick="navigateTo('report', '회계 > 매입매출 현황')" class="w-full text-left px-5 py-3 text-gray-700 font-semibold hover:bg-gray-100 border-b border-gray-200 flex justify-between items-center">
                <span>매입매출 현황</span>
                <span class="px-2 py-0.5 text-xs font-bold rounded bg-red-600 text-white">인기</span>
              </button>
              <button onclick="navigateTo('report', '회계 > 결산 보고서')" class="w-full text-left px-5 py-3 text-gray-700 font-semibold hover:bg-gray-100 border-b border-gray-200">결산 보고서</button>
              <button onclick="navigateTo('report', '재무 > 자금흐름 분석')" class="w-full text-left px-5 py-3 text-gray-700 font-semibold hover:bg-gray-100 border-b border-gray-200">자금흐름 분석</button>
              <button onclick="navigateTo('report', '재무 > ROI 보고서')" class="w-full text-left px-5 py-3 text-gray-700 font-semibold hover:bg-gray-100 flex justify-between items-center">
                <span>ROI 보고서</span>
                <span class="px-2 py-0.5 text-xs font-bold rounded bg-orange-600 text-white">필수</span>
              </button>
            </div>
          </div>

          <!-- 인사·노무 -->
          <div class="relative menu-item flex-1">
            <button class="relative flex items-center justify-center gap-2.5 px-5 py-4 text-gray-800 font-bold text-base w-full transition-all hover:bg-white hover:shadow-md">
              <i data-lucide="user" class="w-5 h-5"></i>
              <span>인사·노무</span>
              <i data-lucide="chevron-down" class="w-4 h-4 ml-1"></i>
            </button>
            <div class="dropdown-menu">
              <button onclick="navigateTo('report', '인사 > 채용 현황')" class="w-full text-left px-5 py-3 text-gray-700 font-semibold hover:bg-gray-100 border-b border-gray-200">채용 현황</button>
              <button onclick="navigateTo('report', '인사 > 인력 운용')" class="w-full text-left px-5 py-3 text-gray-700 font-semibold hover:bg-gray-100 border-b border-gray-200 flex justify-between items-center">
                <span>인력 운용</span>
                <span class="px-2 py-0.5 text-xs font-bold rounded bg-orange-600 text-white">필수</span>
              </button>
              <button onclick="navigateTo('report', '노무 > 근태 관리')" class="w-full text-left px-5 py-3 text-gray-700 font-semibold hover:bg-gray-100 border-b border-gray-200 flex justify-between items-center">
                <span>근태 관리</span>
                <span class="px-2 py-0.5 text-xs font-bold rounded bg-red-600 text-white">인기</span>
              </button>
              <button onclick="navigateTo('report', '노무 > 4대 보험')" class="w-full text-left px-5 py-3 text-gray-700 font-semibold hover:bg-gray-100">4대 보험</button>
            </div>
          </div>

          <!-- 영업·마케팅 -->
          <div class="relative menu-item flex-1">
            <button class="relative flex items-center justify-center gap-2.5 px-5 py-4 text-gray-800 font-bold text-base w-full transition-all hover:bg-white hover:shadow-md">
              <i data-lucide="bar-chart-3" class="w-5 h-5"></i>
              <span>영업·마케팅</span>
              <i data-lucide="chevron-down" class="w-4 h-4 ml-1"></i>
            </button>
            <div class="dropdown-menu">
              <button onclick="navigateTo('report', '영업·마케팅 > 매출 분석')" class="w-full text-left px-5 py-3 text-gray-700 font-semibold hover:bg-gray-100 border-b border-gray-200 flex justify-between items-center">
                <span>매출 분석</span>
                <span class="px-2 py-0.5 text-xs font-bold rounded bg-red-600 text-white">인기</span>
              </button>
              <button onclick="navigateTo('report', '영업·마케팅 > 고객 분석')" class="w-full text-left px-5 py-3 text-gray-700 font-semibold hover:bg-gray-100 border-b border-gray-200">고객 분석</button>
              <button onclick="navigateTo('report', '영업·마케팅 > 캠페인 성과')" class="w-full text-left px-5 py-3 text-gray-700 font-semibold hover:bg-gray-100 border-b border-gray-200">캠페인 성과</button>
              <button onclick="navigateTo('report', '영업·마케팅 > 시장 조사')" class="w-full text-left px-5 py-3 text-gray-700 font-semibold hover:bg-gray-100">시장 조사</button>
            </div>
          </div>

          <!-- 생산·품질 -->
          <div class="relative menu-item flex-1">
            <button class="relative flex items-center justify-center gap-2.5 px-5 py-4 text-gray-800 font-bold text-base w-full transition-all hover:bg-white hover:shadow-md">
              <i data-lucide="settings" class="w-5 h-5"></i>
              <span>생산·품질</span>
              <i data-lucide="chevron-down" class="w-4 h-4 ml-1"></i>
            </button>
            <div class="dropdown-menu">
              <button onclick="navigateTo('report', '생산·품질 > 생산 실적')" class="w-full text-left px-5 py-3 text-gray-700 font-semibold hover:bg-gray-100 border-b border-gray-200 flex justify-between items-center">
                <span>생산 실적</span>
                <span class="px-2 py-0.5 text-xs font-bold rounded bg-orange-600 text-white">필수</span>
              </button>
              <button onclick="navigateTo('report', '생산·품질 > 품질 지표')" class="w-full text-left px-5 py-3 text-gray-700 font-semibold hover:bg-gray-100 border-b border-gray-200">품질 지표</button>
              <button onclick="navigateTo('report', '생산·품질 > 불량률 분석')" class="w-full text-left px-5 py-3 text-gray-700 font-semibold hover:bg-gray-100 border-b border-gray-200 flex justify-between items-center">
                <span>불량률 분석</span>
                <span class="px-2 py-0.5 text-xs font-bold rounded bg-red-600 text-white">인기</span>
              </button>
              <button onclick="navigateTo('report', '생산·품질 > 공정 관리')" class="w-full text-left px-5 py-3 text-gray-700 font-semibold hover:bg-gray-100">공정 관리</button>
            </div>
          </div>

          <!-- IT·보안 -->
          <div class="relative menu-item flex-1">
            <button class="relative flex items-center justify-center gap-2.5 px-5 py-4 text-gray-800 font-bold text-base w-full transition-all hover:bg-white hover:shadow-md">
              <i data-lucide="database" class="w-5 h-5"></i>
              <span>IT·보안</span>
              <i data-lucide="chevron-down" class="w-4 h-4 ml-1"></i>
            </button>
            <div class="dropdown-menu">
              <button onclick="navigateTo('report', 'IT·보안 > 보안 감사')" class="w-full text-left px-5 py-3 text-gray-700 font-semibold hover:bg-gray-100 border-b border-gray-200 flex justify-between items-center">
                <span>보안 감사</span>
                <span class="px-2 py-0.5 text-xs font-bold rounded bg-orange-600 text-white">필수</span>
              </button>
              <button onclick="navigateTo('report', 'IT·보안 > 시스템 장애')" class="w-full text-left px-5 py-3 text-gray-700 font-semibold hover:bg-gray-100 border-b border-gray-200">시스템 장애</button>
              <button onclick="navigateTo('report', 'IT·보안 > 데이터 백업')" class="w-full text-left px-5 py-3 text-gray-700 font-semibold hover:bg-gray-100 border-b border-gray-200">데이터 백업</button>
              <button onclick="navigateTo('report', 'IT·보안 > 접근 권한')" class="w-full text-left px-5 py-3 text-gray-700 font-semibold hover:bg-gray-100">접근 권한</button>
            </div>
          </div>
        </div>
      </div>
    </nav>
  </header>

  <!-- Main Content -->
  <main id="mainContent" class="pt-[280px] pb-24 min-h-screen">
    <div class="container">
      <!-- Chatbot View -->
      <div id="chatbotView" class="view-content">
        <!-- Chatbot Container -->
        <div class="max-w-5xl mx-auto">
          <!-- Welcome Section -->
          <div class="bg-white rounded-2xl shadow-xl p-8 mb-6 border-3 border-gray-200">
            <div class="flex items-start gap-6">
              <div class="w-20 h-20 bg-gradient-to-br from-[#0F4C81] to-[#1E5A8E] rounded-2xl flex items-center justify-center shadow-lg">
                <i data-lucide="bot" class="w-12 h-12 text-white"></i>
              </div>
              <div class="flex-1">
                <h2 class="text-3xl font-black text-gray-900 mb-3">AI 비서와 대화하기</h2>
                <p class="text-gray-600 font-semibold text-lg">궁금하신 업무 데이터를 물어보세요. AI가 실시간으로 분석하여 답변드립니다.</p>
              </div>
            </div>
          </div>

          <!-- Quick Questions Grid -->
          <div class="grid grid-cols-2 gap-4 mb-6">
            <button onclick="sendQuickQuestion('최근 3개월 매출 추이를 보여주세요')" class="card-hover bg-white p-6 rounded-xl border-3 border-gray-300 text-left group">
              <div class="flex items-start gap-4">
                <div class="w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center group-hover:bg-blue-200 transition-colors">
                  <i data-lucide="trending-up" class="w-6 h-6 text-blue-600"></i>
                </div>
                <div class="flex-1">
                  <h3 class="text-lg font-black text-gray-900 mb-2">매출 분석</h3>
                  <p class="text-sm text-gray-600 font-semibold">최근 3개월 매출 추이를 보여주세요</p>
                </div>
              </div>
            </button>

            <button onclick="sendQuickQuestion('부서별 예산 집행 현황은 어떤가요?')" class="card-hover bg-white p-6 rounded-xl border-3 border-gray-300 text-left group">
              <div class="flex items-start gap-4">
                <div class="w-12 h-12 bg-green-100 rounded-lg flex items-center justify-center group-hover:bg-green-200 transition-colors">
                  <i data-lucide="pie-chart" class="w-6 h-6 text-green-600"></i>
                </div>
                <div class="flex-1">
                  <h3 class="text-lg font-black text-gray-900 mb-2">예산 현황</h3>
                  <p class="text-sm text-gray-600 font-semibold">부서별 예산 집행 현황은 어떤가요?</p>
                </div>
              </div>
            </button>

            <button onclick="sendQuickQuestion('이번 달 직원 근태 현황을 확인하고 싶어요')" class="card-hover bg-white p-6 rounded-xl border-3 border-gray-300 text-left group">
              <div class="flex items-start gap-4">
                <div class="w-12 h-12 bg-purple-100 rounded-lg flex items-center justify-center group-hover:bg-purple-200 transition-colors">
                  <i data-lucide="users" class="w-6 h-6 text-purple-600"></i>
                </div>
                <div class="flex-1">
                  <h3 class="text-lg font-black text-gray-900 mb-2">인사 관리</h3>
                  <p class="text-sm text-gray-600 font-semibold">이번 달 직원 근태 현황을 확인하고 싶어요</p>
                </div>
              </div>
            </button>

            <button onclick="sendQuickQuestion('생산 품질 지표를 분석해주세요')" class="card-hover bg-white p-6 rounded-xl border-3 border-gray-300 text-left group">
              <div class="flex items-start gap-4">
                <div class="w-12 h-12 bg-orange-100 rounded-lg flex items-center justify-center group-hover:bg-orange-200 transition-colors">
                  <i data-lucide="activity" class="w-6 h-6 text-orange-600"></i>
                </div>
                <div class="flex-1">
                  <h3 class="text-lg font-black text-gray-900 mb-2">생산 품질</h3>
                  <p class="text-sm text-gray-600 font-semibold">생산 품질 지표를 분석해주세요</p>
                </div>
              </div>
            </button>
          </div>

          <!-- Chat Container -->
          <div class="bg-white rounded-2xl shadow-xl border-3 border-gray-300 overflow-hidden">
            <!-- Chat Messages -->
            <div id="chatMessages" class="p-6 h-[500px] overflow-y-auto bg-gradient-to-b from-gray-50 to-white">
              <div class="text-center text-gray-500 font-semibold py-8">
                위의 추천 질문을 선택하거나 아래에 질문을 입력해보세요
              </div>
            </div>

            <!-- Chat Input -->
            <div class="border-t-3 border-gray-300 p-6 bg-gray-50">
              <div class="flex gap-3">
                <input
                  type="text"
                  id="chatInput"
                  placeholder="질문을 입력하세요... (예: 매출 현황, 직원 수, 예산 분석)"
                  class="flex-1 px-5 py-4 border-3 border-gray-300 rounded-xl focus:border-[#0F4C81] focus:outline-none font-semibold text-gray-800"
                  onkeypress="handleChatKeyPress(event)"
                />
                <button
                  onclick="sendMessage()"
                  class="px-8 py-4 bg-[#0F4C81] hover:bg-[#1E5A8E] text-white rounded-xl font-black transition-all hover:scale-105 border-2 border-[#1E5A8E] shadow-lg flex items-center gap-2"
                >
                  <i data-lucide="send" class="w-5 h-5"></i>
                  <span>전송</span>
                </button>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- Report View -->
      <div id="reportView" class="view-content hidden">
        <div class="space-y-6">
          <!-- HOT NOTICE Banner -->
          <div class="bg-gradient-to-r from-gray-700 to-gray-800 text-white p-6 rounded-lg border-l-8 border-red-600 shadow-lg fade-in">
            <div class="flex items-start gap-4">
              <span class="px-3 py-1 bg-red-600 text-white font-black text-xs rounded">HOT NOTICE</span>
              <div class="flex-1">
                <h2 class="text-2xl font-black mb-2">2026년산 정부 비축미 공매 시작</h2>
                <p class="text-sm text-gray-300 font-semibold">
                  연중 1차 비축미가 6차 개찰 | 총 40만 톤 규모 | 시장과 업종 영향
                </p>
              </div>
              <button class="px-4 py-2 bg-white hover:bg-gray-100 text-gray-800 rounded font-bold transition-colors flex items-center gap-2">
                공고 확인 보기 →
              </button>
            </div>
          </div>

          <!-- Control Panel -->
          <div class="bg-white border-3 border-gray-300 rounded-lg p-5 shadow-md fade-in">
            <div class="flex items-center justify-between">
              <div class="flex items-center gap-4">
                <div class="flex items-center gap-2">
                  <i data-lucide="calendar" class="w-5 h-5 text-gray-600"></i>
                  <select id="dateRange" class="px-4 py-2 border-2 border-gray-300 rounded font-semibold text-gray-800 focus:border-[#0F4C81] focus:outline-none">
                    <option value="1month">최근 1개월</option>
                    <option value="3months">최근 3개월</option>
                    <option value="6months" selected>최근 6개월</option>
                    <option value="1year">최근 1년</option>
                  </select>
                </div>
                
                <div class="w-px h-6 bg-gray-300"></div>
                
                <div class="flex items-center gap-2">
                  <i data-lucide="filter" class="w-5 h-5 text-gray-600"></i>
                  <select id="departmentFilter" class="px-4 py-2 border-2 border-gray-300 rounded font-semibold text-gray-800 focus:border-[#0F4C81] focus:outline-none">
                    <option value="전체">전체 부서</option>
                    <option value="영업부">영업부</option>
                    <option value="연구개발부">연구개발부</option>
                    <option value="마케팅부">마케팅부</option>
                    <option value="생산부">생산부</option>
                    <option value="인사부">인사부</option>
                  </select>
                </div>
              </div>

              <div class="flex items-center gap-3">
                <button onclick="refreshData()" class="px-4 py-2 bg-gray-100 hover:bg-gray-200 text-gray-800 rounded font-bold transition-colors flex items-center gap-2 border-2 border-gray-300">
                  <i data-lucide="refresh-cw" class="w-4 h-4"></i>
                  갱신
                </button>
                <button onclick="toggleBookmark()" id="bookmarkBtn" class="px-4 py-2 rounded font-bold transition-colors flex items-center gap-2 border-2 bg-white text-gray-800 border-gray-300 hover:bg-gray-50">
                  <i data-lucide="star" class="w-4 h-4"></i>
                  저장
                </button>
                <button onclick="downloadReport()" class="px-4 py-2 bg-[#0F4C81] hover:bg-[#1E5A8E] text-white rounded font-bold transition-colors flex items-center gap-2 border-2 border-[#1E5A8E]">
                  <i data-lucide="download" class="w-4 h-4"></i>
                  다운로드
                </button>
              </div>
            </div>
          </div>

          <!-- Main Indicators -->
          <div class="grid grid-cols-4 gap-4 fade-in">
            <div class="bg-white border-3 border-gray-300 rounded-lg p-5 shadow-md card-hover">
              <div class="flex items-start justify-between mb-3">
                <span class="text-sm text-gray-600 font-bold">총 매출액</span>
                <i data-lucide="trending-up" class="w-5 h-5 text-red-600"></i>
              </div>
              <div class="mb-2">
                <span class="text-3xl font-black text-gray-900">5,923</span>
                <span class="text-sm text-gray-600 font-semibold ml-1">백만원</span>
              </div>
              <div class="flex items-center gap-2">
                <span class="text-sm font-bold flex items-center gap-1 text-red-600">
                  ▲ 7.3%
                </span>
                <span class="text-xs text-gray-500">전월 대비</span>
              </div>
            </div>

            <div class="bg-white border-3 border-gray-300 rounded-lg p-5 shadow-md card-hover">
              <div class="flex items-start justify-between mb-3">
                <span class="text-sm text-gray-600 font-bold">영업이익</span>
                <i data-lucide="trending-up" class="w-5 h-5 text-red-600"></i>
              </div>
              <div class="mb-2">
                <span class="text-3xl font-black text-gray-900">2,458</span>
                <span class="text-sm text-gray-600 font-semibold ml-1">백만원</span>
              </div>
              <div class="flex items-center gap-2">
                <span class="text-sm font-bold flex items-center gap-1 text-red-600">
                  ▲ 14.3%
                </span>
                <span class="text-xs text-gray-500">전월 대비</span>
              </div>
            </div>

            <div class="bg-white border-3 border-gray-300 rounded-lg p-5 shadow-md card-hover">
              <div class="flex items-start justify-between mb-3">
                <span class="text-sm text-gray-600 font-bold">순이익률</span>
                <i data-lucide="trending-up" class="w-5 h-5 text-red-600"></i>
              </div>
              <div class="mb-2">
                <span class="text-3xl font-black text-gray-900">41.5</span>
                <span class="text-sm text-gray-600 font-semibold ml-1">%</span>
              </div>
              <div class="flex items-center gap-2">
                <span class="text-sm font-bold flex items-center gap-1 text-red-600">
                  ▲ 2.8%
                </span>
                <span class="text-xs text-gray-500">전월 대비</span>
              </div>
            </div>

            <div class="bg-white border-3 border-gray-300 rounded-lg p-5 shadow-md card-hover">
              <div class="flex items-start justify-between mb-3">
                <span class="text-sm text-gray-600 font-bold">직원 수</span>
                <i data-lucide="trending-up" class="w-5 h-5 text-red-600"></i>
              </div>
              <div class="mb-2">
                <span class="text-3xl font-black text-gray-900">342</span>
                <span class="text-sm text-gray-600 font-semibold ml-1">명</span>
              </div>
              <div class="flex items-center gap-2">
                <span class="text-sm font-bold flex items-center gap-1 text-red-600">
                  ▲ 5.2%
                </span>
                <span class="text-xs text-gray-500">전월 대비</span>
              </div>
            </div>
          </div>

          <!-- KRE Style Data Table -->
          <div class="bg-white border-3 border-gray-300 rounded-lg shadow-md overflow-hidden fade-in">
            <div class="bg-gradient-to-r from-gray-50 to-gray-100 px-6 py-4 border-b-3 border-gray-300">
              <h3 class="text-lg font-black text-gray-900 flex items-center gap-2">
                <i data-lucide="bar-chart-3" class="w-5 h-5 text-[#0F4C81]"></i>
                부서별 KPI 달성 현황
              </h3>
            </div>
            
            <div class="overflow-x-auto">
              <table class="w-full" id="kpiTable">
                <thead>
                  <tr class="bg-gray-100 border-b-2 border-gray-300">
                    <th class="px-6 py-4 text-left text-sm font-black text-gray-900">부서</th>
                    <th class="px-6 py-4 text-right text-sm font-black text-gray-900">목표(백만원)</th>
                    <th class="px-6 py-4 text-right text-sm font-black text-gray-900">실적(백만원)</th>
                    <th class="px-6 py-4 text-right text-sm font-black text-gray-900">달성률</th>
                    <th class="px-6 py-4 text-right text-sm font-black text-gray-900">등락</th>
                    <th class="px-6 py-4 text-right text-sm font-black text-gray-900">차이</th>
                  </tr>
                </thead>
                <tbody id="kpiTableBody">
                  <!-- Dynamically populated -->
                </tbody>
              </table>
            </div>
          </div>

          <!-- Charts -->
          <div class="grid grid-cols-2 gap-6 fade-in">
            <div class="bg-white border-3 border-gray-300 rounded-lg shadow-md p-6">
              <h3 class="text-lg font-black text-gray-900 mb-4 flex items-center gap-2">
                <i data-lucide="trending-up" class="w-5 h-5 text-[#0F4C81]"></i>
                월별 매출 추이
              </h3>
              <canvas id="revenueChart" height="300"></canvas>
            </div>

            <div class="bg-white border-3 border-gray-300 rounded-lg shadow-md p-6">
              <h3 class="text-lg font-black text-gray-900 mb-4 flex items-center gap-2">
                <i data-lucide="bar-chart-3" class="w-5 h-5 text-[#0F4C81]"></i>
                매출 vs 비용 비교
              </h3>
              <canvas id="comparisonChart" height="300"></canvas>
            </div>
          </div>
        </div>
      </div>
    </div>
  </main>

  <!-- Footer -->
  <footer class="bg-gray-800 text-white py-12 border-t-4 border-[#0F4C81]">
    <div class="container">
      <div class="grid grid-cols-4 gap-8 mb-8">
        <div>
          <h3 class="text-lg font-black mb-4 text-yellow-400">홍익AI</h3>
          <p class="text-sm text-gray-400 font-semibold leading-relaxed">
            AI 기반 비즈니스 인텔리전스<br/>
            플랫폼으로 데이터 기반<br/>
            의사결정을 지원합니다.
          </p>
        </div>
        <div>
          <h4 class="font-bold mb-4 text-gray-300">서비스</h4>
          <ul class="space-y-2 text-sm text-gray-400 font-semibold">
            <li><a href="#" class="hover:text-white transition-colors">AI 보고서 생성</a></li>
            <li><a href="#" class="hover:text-white transition-colors">데이터 분석</a></li>
            <li><a href="#" class="hover:text-white transition-colors">챗봇 상담</a></li>
            <li><a href="#" class="hover:text-white transition-colors">맞춤 솔루션</a></li>
          </ul>
        </div>
        <div>
          <h4 class="font-bold mb-4 text-gray-300">지원</h4>
          <ul class="space-y-2 text-sm text-gray-400 font-semibold">
            <li><a href="#" class="hover:text-white transition-colors">사용자 가이드</a></li>
            <li><a href="#" class="hover:text-white transition-colors">FAQ</a></li>
            <li><a href="#" class="hover:text-white transition-colors">고객지원</a></li>
            <li><a href="#" class="hover:text-white transition-colors">API 문서</a></li>
          </ul>
        </div>
        <div>
          <h4 class="font-bold mb-4 text-gray-300">문의</h4>
          <ul class="space-y-2 text-sm text-gray-400 font-semibold">
            <li>Tel: 02-1234-5678</li>
            <li>Email: contact@hongik.ai</li>
            <li>서울시 강남구 테헤란로 123</li>
          </ul>
        </div>
      </div>
      <div class="border-t border-gray-700 pt-6 text-center">
        <p class="text-sm text-gray-400 font-semibold">
          © 2026 홍익AI 보고서생성기. All rights reserved.
        </p>
      </div>
    </div>
  </footer>

  <!-- JavaScript -->
  <script>
    // Initialize Lucide Icons
    lucide.createIcons();

    // State Management
    let currentView = 'chatbot';
    let isBookmarked = false;
    let chatHistory = [];
    
    // Department Data
    const departmentData = [
      { dept: '영업부', target: 12000, actual: 13200, achievement: 110, trend: 'up', variance: 1200 },
      { dept: '연구개발부', target: 8500, actual: 8947, achievement: 105, trend: 'up', variance: 447 },
      { dept: '마케팅부', target: 4500, actual: 5100, achievement: 113, trend: 'up', variance: 600 },
      { dept: '생산부', target: 15000, actual: 14200, achievement: 95, trend: 'down', variance: -800 },
      { dept: '인사부', target: 2500, actual: 2700, achievement: 108, trend: 'up', variance: 200 },
    ];

    // Chart Data
    const monthlyData = {
      labels: ['9월', '10월', '11월', '12월', '1월', '2월'],
      revenue: [4200, 4580, 5120, 5450, 5680, 5923],
      target: [4000, 4200, 4500, 4800, 5000, 5200],
      cost: [2800, 2950, 3200, 3400, 3550, 3680]
    };

    // Navigation
    function navigateTo(view, category = null) {
      currentView = view;
      
      // Hide all views
      document.querySelectorAll('.view-content').forEach(el => el.classList.add('hidden'));
      
      // Show selected view
      if (view === 'chatbot') {
        document.getElementById('chatbotView').classList.remove('hidden');
        updateActiveMenu('menu-chatbot');
      } else if (view === 'report') {
        document.getElementById('reportView').classList.remove('hidden');
        updateActiveMenu('menu-report');
        initCharts();
        updateKPITable();
      }
      
      // Scroll to top
      window.scrollTo({ top: 0, behavior: 'smooth' });
    }

    function updateActiveMenu(menuId) {
      document.querySelectorAll('nav button').forEach(btn => {
        btn.classList.remove('bg-white', 'shadow-md');
      });
      const activeBtn = document.getElementById(menuId);
      if (activeBtn) {
        activeBtn.classList.add('bg-white', 'shadow-md');
      }
    }

    // Chat Functions
    function sendQuickQuestion(question) {
      document.getElementById('chatInput').value = question;
      sendMessage();
    }

    function sendMessage() {
      const input = document.getElementById('chatInput');
      const message = input.value.trim();
      
      if (!message) return;
      
      const chatMessages = document.getElementById('chatMessages');
      
      // Clear placeholder
      if (chatMessages.querySelector('.text-center')) {
        chatMessages.innerHTML = '';
      }
      
      // Add user message
      const userMsg = document.createElement('div');
      userMsg.className = 'chat-message user flex justify-end';
      userMsg.innerHTML = `<div class="bg-[#0F4C81] text-white px-4 py-3 rounded-xl max-w-[80%] font-semibold">${message}</div>`;
      chatMessages.appendChild(userMsg);
      
      // Clear input
      input.value = '';
      
      // Scroll to bottom
      chatMessages.scrollTop = chatMessages.scrollHeight;
      
      // Show typing indicator
      const typingMsg = document.createElement('div');
      typingMsg.className = 'chat-message ai';
      typingMsg.innerHTML = `
        <div class="bg-gray-100 px-4 py-3 rounded-xl max-w-[80%]">
          <div class="typing-indicator">
            <span></span>
            <span></span>
            <span></span>
          </div>
        </div>
      `;
      chatMessages.appendChild(typingMsg);
      chatMessages.scrollTop = chatMessages.scrollHeight;
      
      // Simulate AI response
      setTimeout(() => {
        typingMsg.remove();
        
        const aiResponse = generateAIResponse(message);
        const aiMsg = document.createElement('div');
        aiMsg.className = 'chat-message ai';
        aiMsg.innerHTML = `<div class="bg-gray-100 text-gray-900 px-4 py-3 rounded-xl max-w-[80%] font-semibold">${aiResponse}</div>`;
        chatMessages.appendChild(aiMsg);
        
        chatMessages.scrollTop = chatMessages.scrollHeight;
      }, 1500);
    }

    function generateAIResponse(question) {
      const responses = {
        '매출': '최근 6개월간 매출은 꾸준히 상승하고 있습니다. 9월 42억원에서 2월 59억원으로 약 40% 증가했습니다. 특히 영업부의 목표 달성률이 110%로 매우 우수합니다.',
        '예산': '전체 부서의 예산 집행률은 평균 106%입니다. 마케팅부가 113%로 가장 높고, 생산부만 95%로 목표에 약간 미달했습니다. 전반적으로 양호한 상태입니다.',
        '근태': '이번 달 직원 근태율은 95.8%로 전월 대비 1.2% 상승했습니다. 지각은 3건, 결근은 2건으로 양호한 수준을 유지하고 있습니다.',
        '품질': '생산 품질 지표는 96.8%로 목표인 95%를 초과 달성했습니다. 불량률은 1.2%로 전월 대비 0.3% 감소하여 품질 관리가 개선되고 있습니다.',
        '인력': '현재 총 직원 수는 342명으로 전월 대비 5.2% 증가했습니다. 주로 연구개발부와 영업부에서 신규 인력을 충원했습니다.'
      };
      
      for (let keyword in responses) {
        if (question.includes(keyword)) {
          return responses[keyword];
        }
      }
      
      return '질문해주신 내용에 대한 데이터를 분석 중입니다. 더 구체적인 질문을 주시면 정확한 답변을 드리겠습니다. 예를 들어 "최근 3개월 매출 추이" 또는 "부서별 예산 현황" 같은 질문을 해주세요.';
    }

    function handleChatKeyPress(event) {
      if (event.key === 'Enter') {
        sendMessage();
      }
    }

    // Report Functions
    function updateKPITable() {
      const tbody = document.getElementById('kpiTableBody');
      const filter = document.getElementById('departmentFilter').value;
      
      const filteredData = filter === '전체' 
        ? departmentData 
        : departmentData.filter(d => d.dept === filter);
      
      tbody.innerHTML = filteredData.map(row => `
        <tr class="border-b border-gray-200 hover:bg-blue-50 transition-colors">
          <td class="px-6 py-4 text-sm font-bold text-gray-900">${row.dept}</td>
          <td class="px-6 py-4 text-sm font-semibold text-gray-700 text-right">${row.target.toLocaleString()}</td>
          <td class="px-6 py-4 text-sm font-semibold text-gray-700 text-right">${row.actual.toLocaleString()}</td>
          <td class="px-6 py-4 text-sm font-bold text-right">
            <span class="${row.achievement >= 100 ? 'text-gray-900' : 'text-gray-600'}">${row.achievement}%</span>
          </td>
          <td class="px-6 py-4 text-sm font-bold text-right">
            ${row.trend === 'up' 
              ? `<span class="text-red-600 flex items-center justify-end gap-1">
                  <span>▲</span>
                  <span>${Math.abs(((row.achievement - 100) / 100 * row.target / 100).toFixed(0))}</span>
                </span>`
              : `<span class="text-blue-600 flex items-center justify-end gap-1">
                  <span>▼</span>
                  <span>${Math.abs(((100 - row.achievement) / 100 * row.target / 100).toFixed(0))}</span>
                </span>`
            }
          </td>
          <td class="px-6 py-4 text-sm font-bold text-right">
            <span class="${row.variance > 0 ? 'text-red-600' : 'text-blue-600'}">
              ${row.variance > 0 ? '+' : ''}${row.variance.toLocaleString()}
            </span>
          </td>
        </tr>
      `).join('');
    }

    // Charts
    let revenueChart = null;
    let comparisonChart = null;

    function initCharts() {
      // Destroy existing charts
      if (revenueChart) revenueChart.destroy();
      if (comparisonChart) comparisonChart.destroy();
      
      // Revenue Trend Chart
      const revenueCtx = document.getElementById('revenueChart');
      if (revenueCtx) {
        revenueChart = new Chart(revenueCtx, {
          type: 'line',
          data: {
            labels: monthlyData.labels,
            datasets: [
              {
                label: '매출액',
                data: monthlyData.revenue,
                borderColor: '#DC2626',
                backgroundColor: 'rgba(220, 38, 38, 0.1)',
                borderWidth: 3,
                fill: true,
                tension: 0.4
              },
              {
                label: '목표',
                data: monthlyData.target,
                borderColor: '#0F4C81',
                backgroundColor: 'rgba(15, 76, 129, 0.1)',
                borderWidth: 3,
                fill: true,
                tension: 0.4
              }
            ]
          },
          options: {
            responsive: true,
            maintainAspectRatio: false,
            plugins: {
              legend: {
                labels: {
                  font: { weight: 'bold', size: 12 }
                }
              }
            },
            scales: {
              y: {
                beginAtZero: false,
                ticks: {
                  font: { weight: 600 }
                }
              },
              x: {
                ticks: {
                  font: { weight: 600 }
                }
              }
            }
          }
        });
      }
      
      // Comparison Chart
      const comparisonCtx = document.getElementById('comparisonChart');
      if (comparisonCtx) {
        comparisonChart = new Chart(comparisonCtx, {
          type: 'bar',
          data: {
            labels: monthlyData.labels,
            datasets: [
              {
                label: '매출',
                data: monthlyData.revenue,
                backgroundColor: '#DC2626',
                borderWidth: 0
              },
              {
                label: '비용',
                data: monthlyData.cost,
                backgroundColor: '#2563EB',
                borderWidth: 0
              }
            ]
          },
          options: {
            responsive: true,
            maintainAspectRatio: false,
            plugins: {
              legend: {
                labels: {
                  font: { weight: 'bold', size: 12 }
                }
              }
            },
            scales: {
              y: {
                beginAtZero: true,
                ticks: {
                  font: { weight: 600 }
                }
              },
              x: {
                ticks: {
                  font: { weight: 600 }
                }
              }
            }
          }
        });
      }
    }

    // Utility Functions
    function refreshData() {
      showToast('데이터가 갱신되었습니다');
      updateKPITable();
      if (currentView === 'report') {
        initCharts();
      }
    }

    function toggleBookmark() {
      isBookmarked = !isBookmarked;
      const btn = document.getElementById('bookmarkBtn');
      
      if (isBookmarked) {
        btn.innerHTML = '<i data-lucide="star" class="w-4 h-4"></i> 저장됨';
        btn.className = 'px-4 py-2 rounded font-bold transition-colors flex items-center gap-2 border-2 bg-yellow-500 text-white border-yellow-600 hover:bg-yellow-600';
        showToast('보고서가 저장되었습니다');
      } else {
        btn.innerHTML = '<i data-lucide="star" class="w-4 h-4"></i> 저장';
        btn.className = 'px-4 py-2 rounded font-bold transition-colors flex items-center gap-2 border-2 bg-white text-gray-800 border-gray-300 hover:bg-gray-50';
        showToast('저장이 취소되었습니다');
      }
      
      lucide.createIcons();
    }

    function downloadReport() {
      showToast('보고서를 다운로드합니다');
    }

    function showDataManager() {
      showToast('데이터 관리 화면을 준비 중입니다');
    }

    function showBookmarks() {
      showToast('저장된 보고서 목록을 불러옵니다');
    }

    function showToast(message) {
      const toast = document.createElement('div');
      toast.className = 'fixed bottom-8 right-8 bg-gray-900 text-white px-6 py-4 rounded-lg shadow-2xl font-bold z-50 fade-in';
      toast.textContent = message;
      document.body.appendChild(toast);
      
      setTimeout(() => {
        toast.style.animation = 'fadeOut 0.3s ease-out';
        setTimeout(() => toast.remove(), 300);
      }, 2000);
    }

    // Event Listeners
    document.getElementById('departmentFilter').addEventListener('change', updateKPITable);
    document.getElementById('dateRange').addEventListener('change', () => {
      showToast('날짜 범위가 변경되었습니다');
      initCharts();
    });

    // Initialize on load
    window.addEventListener('load', () => {
      lucide.createIcons();
      navigateTo('chatbot');
    });
  </script>

</body>
</html>
