<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>홍익AI 보고서생성기 - AI-Powered Business Intelligence Platform</title>
  
  <!-- Tailwind CSS CDN -->
  <script src="https://cdn.tailwindcss.com"></script>
  
  <!-- Chart.js CDN -->
  <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.0/dist/chart.umd.min.js"></script>
  
  <!-- Lucide Icons CDN -->
  <script src="https://unpkg.com/lucide@latest"></script>
  
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }
    
    html {
      overflow-y: scroll; /* 스크롤바 항상 표시 */
      height: 100%;
    }
    
    body {
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Apple SD Gothic Neo', 'Noto Sans KR', sans-serif;
      background: linear-gradient(135deg, #f1f5f9 0%, #e2e8f0 100%);
      min-height: 100vh;
      overflow-x: hidden; /* 가로 스크롤 방지 */
      position: relative;
      display: flex;
      flex-direction: column; /* Flexbox로 레이아웃 */
    }
    
    /* 헤더 고정 높이 */
    #header {
      height: auto;
      will-change: transform; /* 성능 최적화 */
      flex-shrink: 0; /* 헤더 크기 고정 */
    }
    
    /* 메인 콘텐츠 고정 */
    #mainContent {
      padding-top: 280px; /* 헤더 높이 고정 */
      padding-bottom: 48px; /* 푸터와의 간격 줄임 */
      flex: 1 0 auto; /* 콘텐츠가 flex로 성장 */
      position: relative;
    }
    
    /* 푸터 하단 고정 */
    footer {
      flex-shrink: 0; /* 푸터 크기 고정 */
    }
    
    .container {
      max-width: 1400px;
      margin: 0 auto;
      padding: 0 24px;
    }
    
    /* 차트 컨테이너 고정 높이 */
    .chart-container {
      position: relative;
      height: 300px;
      width: 100%;
    }
    
    .chart-container canvas {
      max-height: 300px !important;
    }
    
    /* 스크롤바 스타일 */
    ::-webkit-scrollbar {
      width: 12px;
    }
    
    ::-webkit-scrollbar-track {
      background: #f1f1f1;
    }
    
    ::-webkit-scrollbar-thumb {
      background: #888;
      border-radius: 6px;
    }
    
    ::-webkit-scrollbar-thumb:hover {
      background: #555;
    }
    
    /* 애니메이션 */
    @keyframes fadeIn {
      from { opacity: 0; transform: translateY(10px); }
      to { opacity: 1; transform: translateY(0); }
    }
    
    @keyframes fadeOut {
      from { opacity: 1; transform: translateY(0); }
      to { opacity: 0; transform: translateY(10px); }
    }
    
    .fade-in {
      animation: fadeIn 0.3s ease-out forwards;
    }
    
    /* 드롭다운 메뉴 */
    .dropdown-menu {
      display: none;
      position: absolute;
      top: 100%;
      left: 0;
      width: 100%;
      background: white;
      border: 1px solid #d1d5db;
      box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1);
      z-index: 50;
    }
    
    .menu-item:hover .dropdown-menu {
      display: block;
    }
    
    /* 채팅 메시지 스타일 */
    .chat-message {
      max-width: 80%;
      padding: 12px 16px;
      border-radius: 12px;
      margin-bottom: 12px;
      animation: fadeIn 0.3s ease-out;
    }
    
    .chat-message.user {
      background: #0F4C81;
      color: white;
      margin-left: auto;
      border-radius: 12px 12px 0 12px;
    }
    
    .chat-message.ai {
      background: #f3f4f6;
      color: #1f2937;
      margin-right: auto;
      border-radius: 12px 12px 12px 0;
    }
    
    /* 타이핑 애니메이션 */
    .typing-indicator {
      display: inline-flex;
      gap: 4px;
    }
    
    .typing-indicator span {
      width: 8px;
      height: 8px;
      background: #6b7280;
      border-radius: 50%;
      animation: typing 1.4s infinite;
    }
    
    .typing-indicator span:nth-child(2) {
      animation-delay: 0.2s;
    }
    
    .typing-indicator span:nth-child(3) {
      animation-delay: 0.4s;
    }
    
    @keyframes typing {
      0%, 60%, 100% { transform: translateY(0); }
      30% { transform: translateY(-10px); }
    }
    
    /* 카드 호버 효과 */
    .card-hover {
      transition: all 0.3s ease;
    }
    
    .card-hover:hover {
      transform: translateY(-4px);
      box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.1);
    }
    
    /* 모달 스타일 */
    .modal-overlay {
      display: none;
      position: fixed;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background: rgba(0, 0, 0, 0.6);
      z-index: 999;
      backdrop-filter: blur(4px);
    }
    
    .modal-overlay.active {
      display: flex;
      align-items: center;
      justify-content: center;
      animation: fadeIn 0.3s ease-out;
    }
    
    .modal-content {
      background: white;
      border-radius: 16px;
      box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.25);
      max-width: 480px;
      width: 90%;
      max-height: 90vh;
      overflow-y: auto;
      animation: fadeIn 0.3s ease-out;
    }
  </style>
</head>
<body>
  
  <!-- Header -->
  <header id="header" class="fixed top-0 left-0 right-0 z-50 bg-white border-b-4 border-blue-800">
    <!-- Top Bar -->
    <div class="bg-[#0F4C81] text-white border-b-2 border-[#083357]">
      <div class="container py-2.5 flex items-center justify-between">
        <div class="flex items-center gap-6 text-sm font-semibold">
          <span class="flex items-center gap-2">
            <i data-lucide="user" class="w-4 h-4"></i>
            <span>김홍익 이사님</span>
          </span>
          <div class="w-px h-4 bg-blue-400"></div>
          <button onclick="showBookmarks()" class="flex items-center gap-1.5 hover:text-yellow-300 transition-colors font-bold">
            <i data-lucide="bookmark" class="w-4 h-4"></i>
            <span>저장된 보고서</span>
          </button>
        </div>
        <div class="flex items-center gap-4 text-sm font-semibold">
          <button onclick="showLoginModal()" class="hover:text-yellow-300 transition-colors">로그인</button>
          <div class="w-px h-4 bg-blue-400"></div>
          <button onclick="showSignupModal()" class="hover:text-yellow-300 transition-colors">회원가입</button>
          <div class="w-px h-4 bg-blue-400"></div>
          <button class="relative p-1.5 hover:bg-blue-700 rounded transition-colors">
            <i data-lucide="bell" class="w-4 h-4"></i>
            <span class="absolute -top-0.5 -right-0.5 w-3 h-3 bg-red-600 rounded-full border-2 border-white"></span>
          </button>
        </div>
      </div>
    </div>

    <!-- Main Header -->
    <div class="bg-white border-b-3 border-gray-200">
      <div class="container py-5">
        <div class="flex items-center justify-between gap-6">
          <!-- Logo -->
          <div class="flex items-center gap-4">
            <div class="w-16 h-16 bg-[#0F4C81] rounded-xl flex items-center justify-center border-4 border-[#1E5A8E]">
              <span class="text-white font-black text-3xl">홍</span>
            </div>
            <div>
              <h1 class="text-2xl font-black text-[#0F4C81] tracking-tight">홍익AI 보고서생성기</h1>
              <p class="text-xs text-gray-600 font-bold">AI-Powered Business Intelligence Platform</p>
            </div>
          </div>

          <!-- Search Bar -->
          <div class="flex-1 max-w-lg">
            <div class="relative">
              <input
                type="text"
                id="searchInput"
                placeholder="보고서 검색 (예: 매출분석, 인사현황)"
                class="w-full px-5 py-3.5 pr-12 border-3 border-gray-400 rounded-lg focus:border-[#0F4C81] focus:outline-none font-semibold text-gray-800 placeholder-gray-500"
              />
              <button class="absolute right-2 top-1/2 -translate-y-1/2 p-2 bg-[#0F4C81] hover:bg-[#1E5A8E] rounded-md transition-colors">
                <i data-lucide="search" class="w-5 h-5 text-white"></i>
              </button>
            </div>
          </div>

          <!-- Data Upload Button -->
          <button
            onclick="showDataManager()"
            class="flex items-center gap-2.5 px-6 py-3.5 bg-[#E85D04] hover:bg-[#DC2F02] text-white rounded-lg font-black shadow-lg border-2 border-[#DC2F02] transition-all hover:scale-105"
          >
            <i data-lucide="database" class="w-6 h-6"></i>
            <span class="text-base">데이터 관리</span>
          </button>
        </div>
      </div>
    </div>

    <!-- Navigation Menu -->
    <nav class="bg-gradient-to-r from-gray-100 to-gray-200 border-b-4 border-gray-400">
      <div class="container">
        <div class="flex items-center gap-2">
          <!-- AI 비서 -->
          <div class="relative menu-item flex-1">
            <button
              onclick="navigateTo('chatbot')"
              class="relative flex items-center justify-center gap-2.5 px-5 py-4 text-gray-800 font-bold text-base w-full transition-all hover:bg-white hover:shadow-md"
              id="menu-chatbot"
            >
              <i data-lucide="home" class="w-5 h-5"></i>
              <span>AI 비서</span>
              <span class="ml-2 px-2 py-0.5 text-xs font-bold rounded bg-green-600 text-white">추천</span>
            </button>
          </div>

          <!-- 회계·재무 -->
          <div class="relative menu-item flex-1">
            <button 
              onclick="showCategoryMenu('accounting')"
              class="relative flex items-center justify-center gap-2.5 px-5 py-4 text-gray-800 font-bold text-base w-full transition-all hover:bg-white hover:shadow-md"
              id="menu-accounting"
            >
              <i data-lucide="file-text" class="w-5 h-5"></i>
              <span>회계·재무</span>
              <i data-lucide="chevron-down" class="w-4 h-4 ml-1"></i>
            </button>
            <div class="dropdown-menu">
              <button onclick="navigateTo('report', '회계 > 매입매출 현황')" class="w-full text-left px-5 py-3 text-gray-700 font-semibold hover:bg-gray-100 border-b border-gray-200 flex justify-between items-center">
                <span>매입매출 현황</span>
                <span class="px-2 py-0.5 text-xs font-bold rounded bg-red-600 text-white">인기</span>
              </button>
              <button onclick="navigateTo('report', '회계 > 결산 보고서')" class="w-full text-left px-5 py-3 text-gray-700 font-semibold hover:bg-gray-100 border-b border-gray-200">결산 보고서</button>
              <button onclick="navigateTo('report', '재무 > 자금흐름 분석')" class="w-full text-left px-5 py-3 text-gray-700 font-semibold hover:bg-gray-100 border-b border-gray-200">자금흐름 분석</button>
              <button onclick="navigateTo('report', '재무 > ROI 보고서')" class="w-full text-left px-5 py-3 text-gray-700 font-semibold hover:bg-gray-100 flex justify-between items-center">
                <span>ROI 보고서</span>
                <span class="px-2 py-0.5 text-xs font-bold rounded bg-orange-600 text-white">필수</span>
              </button>
            </div>
          </div>

          <!-- 인사·노무 -->
          <div class="relative menu-item flex-1">
            <button 
              onclick="showCategoryMenu('hr')"
              class="relative flex items-center justify-center gap-2.5 px-5 py-4 text-gray-800 font-bold text-base w-full transition-all hover:bg-white hover:shadow-md"
              id="menu-hr"
            >
              <i data-lucide="user" class="w-5 h-5"></i>
              <span>인사·노무</span>
              <i data-lucide="chevron-down" class="w-4 h-4 ml-1"></i>
            </button>
            <div class="dropdown-menu">
              <button onclick="navigateTo('report', '인사 > 채용 현황')" class="w-full text-left px-5 py-3 text-gray-700 font-semibold hover:bg-gray-100 border-b border-gray-200">채용 현황</button>
              <button onclick="navigateTo('report', '인사 > 인력 운용')" class="w-full text-left px-5 py-3 text-gray-700 font-semibold hover:bg-gray-100 border-b border-gray-200 flex justify-between items-center">
                <span>인력 운용</span>
                <span class="px-2 py-0.5 text-xs font-bold rounded bg-orange-600 text-white">필수</span>
              </button>
              <button onclick="navigateTo('report', '노무 > 근태 관리')" class="w-full text-left px-5 py-3 text-gray-700 font-semibold hover:bg-gray-100 border-b border-gray-200 flex justify-between items-center">
                <span>근태 관리</span>
                <span class="px-2 py-0.5 text-xs font-bold rounded bg-red-600 text-white">인기</span>
              </button>
              <button onclick="navigateTo('report', '노무 > 4대 보험')" class="w-full text-left px-5 py-3 text-gray-700 font-semibold hover:bg-gray-100">4대 보험</button>
            </div>
          </div>

          <!-- 영업·마케팅 -->
          <div class="relative menu-item flex-1">
            <button 
              onclick="showCategoryMenu('business')"
              class="relative flex items-center justify-center gap-2.5 px-5 py-4 text-gray-800 font-bold text-base w-full transition-all hover:bg-white hover:shadow-md"
              id="menu-business"
            >
              <i data-lucide="bar-chart-3" class="w-5 h-5"></i>
              <span>영업·마케팅</span>
              <i data-lucide="chevron-down" class="w-4 h-4 ml-1"></i>
            </button>
            <div class="dropdown-menu">
              <button onclick="navigateTo('report', '영업·마케팅 > 매출 분석')" class="w-full text-left px-5 py-3 text-gray-700 font-semibold hover:bg-gray-100 border-b border-gray-200 flex justify-between items-center">
                <span>매출 분석</span>
                <span class="px-2 py-0.5 text-xs font-bold rounded bg-red-600 text-white">인기</span>
              </button>
              <button onclick="navigateTo('report', '영업·마케팅 > 고객 분석')" class="w-full text-left px-5 py-3 text-gray-700 font-semibold hover:bg-gray-100 border-b border-gray-200">고객 분석</button>
              <button onclick="navigateTo('report', '영업·마케팅 > 캠페인 성과')" class="w-full text-left px-5 py-3 text-gray-700 font-semibold hover:bg-gray-100 border-b border-gray-200">캠페인 성과</button>
              <button onclick="navigateTo('report', '영업·마케팅 > 시장 조사')" class="w-full text-left px-5 py-3 text-gray-700 font-semibold hover:bg-gray-100">시장 조사</button>
            </div>
          </div>

          <!-- 생산·품질 -->
          <div class="relative menu-item flex-1">
            <button 
              onclick="showCategoryMenu('production')"
              class="relative flex items-center justify-center gap-2.5 px-5 py-4 text-gray-800 font-bold text-base w-full transition-all hover:bg-white hover:shadow-md"
              id="menu-production"
            >
              <i data-lucide="settings" class="w-5 h-5"></i>
              <span>생산·품질</span>
              <i data-lucide="chevron-down" class="w-4 h-4 ml-1"></i>
            </button>
            <div class="dropdown-menu">
              <button onclick="navigateTo('report', '생산·품질 > 생산 실적')" class="w-full text-left px-5 py-3 text-gray-700 font-semibold hover:bg-gray-100 border-b border-gray-200 flex justify-between items-center">
                <span>생산 실적</span>
                <span class="px-2 py-0.5 text-xs font-bold rounded bg-orange-600 text-white">필수</span>
              </button>
              <button onclick="navigateTo('report', '생산·품질 > 품질 지표')" class="w-full text-left px-5 py-3 text-gray-700 font-semibold hover:bg-gray-100 border-b border-gray-200">품질 지표</button>
              <button onclick="navigateTo('report', '생산·품질 > 불량률 분석')" class="w-full text-left px-5 py-3 text-gray-700 font-semibold hover:bg-gray-100 border-b border-gray-200 flex justify-between items-center">
                <span>불량률 분석</span>
                <span class="px-2 py-0.5 text-xs font-bold rounded bg-red-600 text-white">인기</span>
              </button>
              <button onclick="navigateTo('report', '생산·품질 > 공정 관리')" class="w-full text-left px-5 py-3 text-gray-700 font-semibold hover:bg-gray-100">공정 관리</button>
            </div>
          </div>
        </div>
      </div>
    </nav>
  </header>

  <!-- Main Content -->
  <main id="mainContent" class="pt-[280px] pb-24 min-h-screen">
    <div class="container">
      <!-- Chatbot View -->
      <div id="chatbotView" class="view-content">
        <!-- Chatbot Container -->
        <div class="max-w-5xl mx-auto">
          <!-- Welcome Section -->
          <div class="bg-transparent p-8 mb-6">
            <div class="flex items-start gap-6">
              <div class="w-20 h-20 bg-transparent border-3 border-gray-300 rounded-2xl flex items-center justify-center">
                <i data-lucide="bot" class="w-12 h-12 text-gray-700"></i>
              </div>
              <div class="flex-1">
                <h2 class="text-3xl font-black text-gray-900 mb-3">AI 비서와 대화하기</h2>
                <p class="text-gray-600 font-semibold text-lg">궁금하신 업무 데이터를 물어보세요. AI가 실시간으로 분석하여 답변드립니다.</p>
              </div>
            </div>
          </div>

          <!-- Quick Questions Grid -->
          <div class="grid grid-cols-2 gap-4 mb-6">
            <button onclick="sendQuickQuestion('최근 3개월 매출 추이를 보여주세요')" class="card-hover bg-white p-6 rounded-xl border-3 border-gray-300 text-left group">
              <div class="flex items-start gap-4">
                <div class="w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center group-hover:bg-blue-200 transition-colors">
                  <i data-lucide="trending-up" class="w-6 h-6 text-blue-600"></i>
                </div>
                <div class="flex-1">
                  <h3 class="text-lg font-black text-gray-900 mb-2">매출 분석</h3>
                  <p class="text-sm text-gray-600 font-semibold">최근 3개월 매출 추이를 보여주세요</p>
                </div>
              </div>
            </button>

            <button onclick="sendQuickQuestion('부서별 예산 집행 현황은 어떤가요?')" class="card-hover bg-white p-6 rounded-xl border-3 border-gray-300 text-left group">
              <div class="flex items-start gap-4">
                <div class="w-12 h-12 bg-green-100 rounded-lg flex items-center justify-center group-hover:bg-green-200 transition-colors">
                  <i data-lucide="pie-chart" class="w-6 h-6 text-green-600"></i>
                </div>
                <div class="flex-1">
                  <h3 class="text-lg font-black text-gray-900 mb-2">예산 현황</h3>
                  <p class="text-sm text-gray-600 font-semibold">부서별 예산 집행 현황은 어떤가요?</p>
                </div>
              </div>
            </button>

            <button onclick="sendQuickQuestion('이번 달 직원 근태 현황을 확인하고 싶어요')" class="card-hover bg-white p-6 rounded-xl border-3 border-gray-300 text-left group">
              <div class="flex items-start gap-4">
                <div class="w-12 h-12 bg-purple-100 rounded-lg flex items-center justify-center group-hover:bg-purple-200 transition-colors">
                  <i data-lucide="users" class="w-6 h-6 text-purple-600"></i>
                </div>
                <div class="flex-1">
                  <h3 class="text-lg font-black text-gray-900 mb-2">인사 관리</h3>
                  <p class="text-sm text-gray-600 font-semibold">이번 달 직원 근태 현황을 확인하고 싶어요</p>
                </div>
              </div>
            </button>

            <button onclick="sendQuickQuestion('생산 품질 지표를 분석해주세요')" class="card-hover bg-white p-6 rounded-xl border-3 border-gray-300 text-left group">
              <div class="flex items-start gap-4">
                <div class="w-12 h-12 bg-orange-100 rounded-lg flex items-center justify-center group-hover:bg-orange-200 transition-colors">
                  <i data-lucide="activity" class="w-6 h-6 text-orange-600"></i>
                </div>
                <div class="flex-1">
                  <h3 class="text-lg font-black text-gray-900 mb-2">생산 품질</h3>
                  <p class="text-sm text-gray-600 font-semibold">생산 품질 지표를 분석해주세요</p>
                </div>
              </div>
            </button>
          </div>

          <!-- Chat Container -->
          <div class="bg-white rounded-2xl shadow-xl border-3 border-gray-300 overflow-hidden">
            <!-- Chat Messages -->
            <div id="chatMessages" class="p-6 h-[500px] overflow-y-auto bg-gradient-to-b from-gray-50 to-white">
              <div class="text-center text-gray-500 font-semibold py-8">
                위의 추천 질문을 선택하거나 아래에 질문을 입력해보세요
              </div>
            </div>

            <!-- Attached Files Preview -->
            <div id="attachedFilesPreview" class="border-t-3 border-gray-300 p-4 bg-white hidden">
              <div class="flex items-center justify-between mb-3">
                <h4 class="text-sm font-black text-gray-900">첨부된 파일 (<span id="fileCount">0</span>)</h4>
                <button onclick="clearAllFiles()" class="text-sm font-bold text-red-600 hover:text-red-700">모두 삭제</button>
              </div>
              <div id="fileList" class="space-y-2"></div>
            </div>

            <!-- Chat Input -->
            <div class="border-t-3 border-gray-300 p-6 bg-gray-50">
              <div class="flex gap-3">
                <button
                  onclick="document.getElementById('fileInput').click()"
                  class="px-5 py-4 bg-white hover:bg-gray-100 border-3 border-gray-300 rounded-xl font-bold transition-colors flex items-center gap-2"
                  title="파일 첨부"
                >
                  <i data-lucide="paperclip" class="w-5 h-5 text-gray-700"></i>
                </button>
                <input type="file" id="fileInput" multiple accept="image/*,.pdf,.doc,.docx,.xls,.xlsx,.txt" class="hidden" onchange="handleFileSelect(event)" />
                <input
                  type="text"
                  id="chatInput"
                  placeholder="질문을 입력하세요... (예: 매출 현황, 직원 수, 예산 분석)"
                  class="flex-1 px-5 py-4 border-3 border-gray-300 rounded-xl focus:border-[#0F4C81] focus:outline-none font-semibold text-gray-800"
                  onkeypress="handleChatKeyPress(event)"
                />
                <button
                  onclick="sendMessage()"
                  class="px-8 py-4 bg-[#0F4C81] hover:bg-[#1E5A8E] text-white rounded-xl font-black transition-all hover:scale-105 border-2 border-[#1E5A8E] shadow-lg flex items-center gap-2"
                >
                  <i data-lucide="send" class="w-5 h-5"></i>
                  <span>전송</span>
                </button>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- Category View -->
      <div id="categoryView" class="view-content hidden">
        <div class="space-y-6">
          <!-- Category Header -->
          <div class="bg-transparent p-8 fade-in">
            <div class="flex items-center justify-between">
              <div class="flex items-center gap-4">
                <div class="w-16 h-16 bg-transparent border-3 border-gray-300 rounded-xl flex items-center justify-center">
                  <i id="categoryIcon" data-lucide="file-text" class="w-8 h-8 text-gray-700"></i>
                </div>
                <div>
                  <h2 id="categoryTitle" class="text-3xl font-black text-gray-900">회계·재무</h2>
                  <p class="text-gray-600 font-semibold">하위 보고서를 선택하세요</p>
                </div>
              </div>
              <button onclick="navigateTo('chatbot')" class="px-6 py-3 bg-gray-100 hover:bg-gray-200 text-gray-800 rounded-lg font-bold transition-colors flex items-center gap-2 border-2 border-gray-300">
                <i data-lucide="arrow-left" class="w-5 h-5"></i>
                <span>뒤로 가기</span>
              </button>
            </div>
          </div>

          <!-- Category Items Grid -->
          <div id="categoryItemsGrid" class="grid grid-cols-2 gap-6">
            <!-- Dynamically populated -->
          </div>
        </div>
      </div>

      <!-- Bookmarks View -->
      <div id="bookmarksView" class="view-content hidden">
        <div class="space-y-6">
          <div class="bg-transparent p-8 fade-in">
            <div class="flex items-center justify-between">
              <div class="flex items-center gap-4">
                <div class="w-16 h-16 bg-transparent border-3 border-gray-300 rounded-xl flex items-center justify-center">
                  <i data-lucide="star" class="w-8 h-8 text-yellow-500"></i>
                </div>
                <div>
                  <h2 class="text-3xl font-black text-gray-900">저장된 보고서</h2>
                  <p class="text-gray-600 font-semibold">북마크한 보고서 목록을 확인하세요</p>
                </div>
              </div>
              <button onclick="navigateTo('chatbot')" class="px-6 py-3 bg-gray-100 hover:bg-gray-200 text-gray-800 rounded-lg font-bold transition-colors flex items-center gap-2 border-2 border-gray-300">
                <i data-lucide="arrow-left" class="w-5 h-5"></i>
                <span>뒤로 가기</span>
              </button>
            </div>
          </div>
          <div id="bookmarksGrid" class="grid grid-cols-2 gap-6"></div>
        </div>
      </div>

      <!-- Data Manager View -->
      <div id="dataManagerView" class="view-content hidden">
        <div class="space-y-6">
          <div class="bg-transparent p-8 fade-in">
            <div class="flex items-center justify-between">
              <div class="flex items-center gap-4">
                <div class="w-16 h-16 bg-transparent border-3 border-gray-300 rounded-xl flex items-center justify-center">
                  <i data-lucide="database" class="w-8 h-8 text-blue-600"></i>
                </div>
                <div>
                  <h2 class="text-3xl font-black text-gray-900">데이터 관리</h2>
                  <p class="text-gray-600 font-semibold">데이터 소스 연동 및 설정 관리</p>
                </div>
              </div>
              <button onclick="navigateTo('chatbot')" class="px-6 py-3 bg-gray-100 hover:bg-gray-200 text-gray-800 rounded-lg font-bold transition-colors flex items-center gap-2 border-2 border-gray-300">
                <i data-lucide="arrow-left" class="w-5 h-5"></i>
                <span>뒤로 가기</span>
              </button>
            </div>
          </div>
          <div class="grid grid-cols-2 gap-6">
            <div class="bg-white border-3 border-gray-300 rounded-xl p-8 card-hover">
              <div class="flex items-start justify-between mb-4">
                <div class="flex items-center gap-3">
                  <div class="w-12 h-12 bg-green-100 rounded-lg flex items-center justify-center">
                    <i data-lucide="check-circle" class="w-6 h-6 text-green-600"></i>
                  </div>
                  <div>
                    <h3 class="text-xl font-black text-gray-900">ERP 시스템</h3>
                    <p class="text-sm text-green-600 font-bold">연동 완료</p>
                  </div>
                </div>
                <button onclick="showToast('데이터 동기화 완료')" class="px-4 py-2 bg-green-500 text-white rounded-lg font-bold hover:bg-green-600 transition-colors">재동기화</button>
              </div>
              <div class="space-y-2 text-sm">
                <div class="flex justify-between"><span class="text-gray-600 font-semibold">마지막 동기화:</span><span class="font-bold text-gray-900">2026-02-11 14:35</span></div>
                <div class="flex justify-between"><span class="text-gray-600 font-semibold">데이터 건수:</span><span class="font-bold text-gray-900">12,458건</span></div>
                <div class="flex justify-between"><span class="text-gray-600 font-semibold">연동 상태:</span><span class="font-bold text-green-600">정상</span></div>
              </div>
            </div>
            <div class="bg-white border-3 border-gray-300 rounded-xl p-8 card-hover">
              <div class="flex items-start justify-between mb-4">
                <div class="flex items-center gap-3">
                  <div class="w-12 h-12 bg-green-100 rounded-lg flex items-center justify-center">
                    <i data-lucide="check-circle" class="w-6 h-6 text-green-600"></i>
                  </div>
                  <div>
                    <h3 class="text-xl font-black text-gray-900">회계 시스템</h3>
                    <p class="text-sm text-green-600 font-bold">연동 완료</p>
                  </div>
                </div>
                <button onclick="showToast('데이터 동기화 완료')" class="px-4 py-2 bg-green-500 text-white rounded-lg font-bold hover:bg-green-600 transition-colors">재동기화</button>
              </div>
              <div class="space-y-2 text-sm">
                <div class="flex justify-between"><span class="text-gray-600 font-semibold">마지막 동기화:</span><span class="font-bold text-gray-900">2026-02-11 14:30</span></div>
                <div class="flex justify-between"><span class="text-gray-600 font-semibold">데이터 건수:</span><span class="font-bold text-gray-900">8,742건</span></div>
                <div class="flex justify-between"><span class="text-gray-600 font-semibold">연동 상태:</span><span class="font-bold text-green-600">정상</span></div>
              </div>
            </div>
            <div class="bg-white border-3 border-gray-300 rounded-xl p-8 card-hover">
              <div class="flex items-start justify-between mb-4">
                <div class="flex items-center gap-3">
                  <div class="w-12 h-12 bg-green-100 rounded-lg flex items-center justify-center">
                    <i data-lucide="check-circle" class="w-6 h-6 text-green-600"></i>
                  </div>
                  <div>
                    <h3 class="text-xl font-black text-gray-900">인사 시스템</h3>
                    <p class="text-sm text-green-600 font-bold">연동 완료</p>
                  </div>
                </div>
                <button onclick="showToast('데이터 동기화 완료')" class="px-4 py-2 bg-green-500 text-white rounded-lg font-bold hover:bg-green-600 transition-colors">재동기화</button>
              </div>
              <div class="space-y-2 text-sm">
                <div class="flex justify-between"><span class="text-gray-600 font-semibold">마지막 동기화:</span><span class="font-bold text-gray-900">2026-02-11 14:28</span></div>
                <div class="flex justify-between"><span class="text-gray-600 font-semibold">데이터 건수:</span><span class="font-bold text-gray-900">3,425건</span></div>
                <div class="flex justify-between"><span class="text-gray-600 font-semibold">연동 상태:</span><span class="font-bold text-green-600">정상</span></div>
              </div>
            </div>
            <div class="bg-white border-3 border-gray-300 rounded-xl p-8 card-hover">
              <div class="flex items-start justify-between mb-4">
                <div class="flex items-center gap-3">
                  <div class="w-12 h-12 bg-yellow-100 rounded-lg flex items-center justify-center">
                    <i data-lucide="alert-circle" class="w-6 h-6 text-yellow-600"></i>
                  </div>
                  <div>
                    <h3 class="text-xl font-black text-gray-900">CRM 시스템</h3>
                    <p class="text-sm text-yellow-600 font-bold">주의 필요</p>
                  </div>
                </div>
                <button onclick="showToast('재연결 중입니다')" class="px-4 py-2 bg-yellow-500 text-white rounded-lg font-bold hover:bg-yellow-600 transition-colors">재연결</button>
              </div>
              <div class="space-y-2 text-sm">
                <div class="flex justify-between"><span class="text-gray-600 font-semibold">마지막 동기화:</span><span class="font-bold text-gray-900">2026-02-10 23:15</span></div>
                <div class="flex justify-between"><span class="text-gray-600 font-semibold">데이터 건수:</span><span class="font-bold text-gray-900">5,687건</span></div>
                <div class="flex justify-between"><span class="text-gray-600 font-semibold">연동 상태:</span><span class="font-bold text-yellow-600">지연</span></div>
              </div>
            </div>
            <div class="bg-white border-3 border-gray-300 rounded-xl p-8 card-hover">
              <div class="flex items-start justify-between mb-4">
                <div class="flex items-center gap-3">
                  <div class="w-12 h-12 bg-green-100 rounded-lg flex items-center justify-center">
                    <i data-lucide="check-circle" class="w-6 h-6 text-green-600"></i>
                  </div>
                  <div>
                    <h3 class="text-xl font-black text-gray-900">MES 시스템</h3>
                    <p class="text-sm text-green-600 font-bold">연동 완료</p>
                  </div>
                </div>
                <button onclick="showToast('데이터 동기화 완료')" class="px-4 py-2 bg-green-500 text-white rounded-lg font-bold hover:bg-green-600 transition-colors">재동기화</button>
              </div>
              <div class="space-y-2 text-sm">
                <div class="flex justify-between"><span class="text-gray-600 font-semibold">마지막 동기화:</span><span class="font-bold text-gray-900">2026-02-11 14:32</span></div>
                <div class="flex justify-between"><span class="text-gray-600 font-semibold">데이터 건수:</span><span class="font-bold text-gray-900">9,234건</span></div>
                <div class="flex justify-between"><span class="text-gray-600 font-semibold">연동 상태:</span><span class="font-bold text-green-600">정상</span></div>
              </div>
            </div>
            <div class="bg-white border-3 border-gray-300 rounded-xl p-8 card-hover">
              <div class="flex items-start justify-between mb-4">
                <div class="flex items-center gap-3">
                  <div class="w-12 h-12 bg-gray-100 rounded-lg flex items-center justify-center">
                    <i data-lucide="plus-circle" class="w-6 h-6 text-gray-400"></i>
                  </div>
                  <div>
                    <h3 class="text-xl font-black text-gray-900">외부 API 연동</h3>
                    <p class="text-sm text-gray-500 font-bold">미연결</p>
                  </div>
                </div>
                <button onclick="showToast('API 연결 설정을 진행합니다')" class="px-4 py-2 bg-blue-600 text-white rounded-lg font-bold hover:bg-blue-700 transition-colors">연결하기</button>
              </div>
              <div class="space-y-2 text-sm">
                <div class="flex justify-between"><span class="text-gray-600 font-semibold">사용 가능 API:</span><span class="font-bold text-gray-900">12개</span></div>
                <div class="flex justify-between"><span class="text-gray-600 font-semibold">설정 필요:</span><span class="font-bold text-gray-900">인증키 입력</span></div>
                <div class="flex justify-between"><span class="text-gray-600 font-semibold">연동 상태:</span><span class="font-bold text-gray-500">대기중</span></div>
              </div>
            </div>
          </div>
          <div class="bg-white border-3 border-gray-300 rounded-xl p-8">
            <h3 class="text-2xl font-black text-gray-900 mb-6 flex items-center gap-3">
              <i data-lucide="settings" class="w-6 h-6"></i>
              자동 동기화 설정
            </h3>
            <div class="space-y-4">
              <div class="flex items-center justify-between p-4 bg-gray-50 rounded-lg border-2 border-gray-200">
                <div>
                  <p class="font-bold text-gray-900">실시간 동기화</p>
                  <p class="text-sm text-gray-600 font-semibold">데이터 변경 시 즉시 반영</p>
                </div>
                <div class="relative w-14 h-8 bg-green-500 rounded-full"><div class="absolute left-7 top-1 bg-white w-6 h-6 rounded-full"></div></div>
              </div>
              <div class="flex items-center justify-between p-4 bg-gray-50 rounded-lg border-2 border-gray-200">
                <div>
                  <p class="font-bold text-gray-900">자동 백업</p>
                  <p class="text-sm text-gray-600 font-semibold">매일 새벽 2시 자동 백업</p>
                </div>
                <div class="relative w-14 h-8 bg-green-500 rounded-full"><div class="absolute left-7 top-1 bg-white w-6 h-6 rounded-full"></div></div>
              </div>
              <div class="flex items-center justify-between p-4 bg-gray-50 rounded-lg border-2 border-gray-200">
                <div>
                  <p class="font-bold text-gray-900">오류 알림</p>
                  <p class="text-sm text-gray-600 font-semibold">연동 오류 시 즉시 알림</p>
                </div>
                <div class="relative w-14 h-8 bg-green-500 rounded-full"><div class="absolute left-7 top-1 bg-white w-6 h-6 rounded-full"></div></div>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- Report View -->
      <div id="reportView" class="view-content hidden">
        <div class="space-y-6">
          <!-- Report Category Header -->
          <div class="bg-white rounded-xl p-8 shadow-md border-3 border-gray-300 fade-in">
            <div class="flex items-center justify-between mb-6">
              <div class="flex items-center gap-4">
                <div class="w-16 h-16 bg-blue-600 rounded-2xl flex items-center justify-center">
                  <i data-lucide="file-text" class="w-8 h-8 text-white"></i>
                </div>
                <div>
                  <h2 class="text-3xl font-black text-blue-700 mb-1">회계 관리 시스템</h2>
                  <p class="text-gray-600 font-semibold">매입/매출 종합 지표 관리, 차수 리스크 탐지, 결산 시뮬레이션</p>
                </div>
              </div>
              <div class="flex items-center gap-3">
                <button onclick="refreshData()" class="px-5 py-3 bg-white hover:bg-gray-50 text-blue-600 rounded-lg font-bold transition-colors flex items-center gap-2 border-2 border-blue-300">
                  <i data-lucide="refresh-cw" class="w-5 h-5"></i>
                  새로고침
                </button>
                <button onclick="downloadReport()" class="px-5 py-3 bg-blue-600 hover:bg-blue-700 text-white rounded-lg font-bold transition-colors flex items-center gap-2 border-2 border-blue-700">
                  <i data-lucide="download" class="w-5 h-5"></i>
                  다운로드
                </button>
              </div>
            </div>
            
            <!-- Quick Action Buttons -->
            <div class="flex items-center gap-3">
              <button class="px-5 py-2.5 bg-blue-100 hover:bg-blue-200 text-blue-700 rounded-full font-bold transition-colors flex items-center gap-2 text-sm border-2 border-blue-300">
                <i data-lucide="circle-check" class="w-4 h-4"></i>
                AI 재무 리스크 자동 탐지
              </button>
              <button class="px-5 py-2.5 bg-blue-100 hover:bg-blue-200 text-blue-700 rounded-full font-bold transition-colors flex items-center gap-2 text-sm border-2 border-blue-300">
                <i data-lucide="circle-check" class="w-4 h-4"></i>
                경영 권고 대비 비용 효율 분석
              </button>
              <button class="px-5 py-2.5 bg-blue-100 hover:bg-blue-200 text-blue-700 rounded-full font-bold transition-colors flex items-center gap-2 text-sm border-2 border-blue-300">
                <i data-lucide="circle-check" class="w-4 h-4"></i>
                결산 시나리오 시뮬레이션
              </button>
            </div>
          </div>

          <!-- HOT NOTICE Banner -->
          <div class="bg-gradient-to-r from-gray-700 to-gray-800 text-white p-6 rounded-lg border-l-8 border-red-600 shadow-lg fade-in">
            <div class="flex items-start gap-4">
              <span class="px-3 py-1 bg-red-600 text-white font-black text-xs rounded">HOT NOTICE</span>
              <div class="flex-1">
                <h2 class="text-2xl font-black mb-2">2026년산 정부 비축미 공매 시작</h2>
                <p class="text-sm text-gray-300 font-semibold">
                  연중 1차 비축미가 6차 개찰 | 총 40만 톤 규모 | 시장과 업종 영향
                </p>
              </div>
              <button class="px-4 py-2 bg-white hover:bg-gray-100 text-gray-800 rounded font-bold transition-colors flex items-center gap-2">
                공고 확인 보기 →
              </button>
            </div>
          </div>

          <!-- Control Panel -->
          <div class="bg-white border-3 border-gray-300 rounded-lg p-5 shadow-md fade-in">
            <div class="flex items-center justify-between">
              <div class="flex items-center gap-4">
                <div class="flex items-center gap-2">
                  <i data-lucide="calendar" class="w-5 h-5 text-gray-600"></i>
                  <select id="dateRange" class="px-4 py-2 border-2 border-gray-300 rounded font-semibold text-gray-800 focus:border-[#0F4C81] focus:outline-none">
                    <option value="1month">최근 1개</option>
                    <option value="3months">최근 3개월</option>
                    <option value="6months" selected>최근 6개월</option>
                    <option value="1year">최근 1년</option>
                  </select>
                </div>
                
                <div class="w-px h-6 bg-gray-300"></div>
                
                <div class="flex items-center gap-2">
                  <i data-lucide="filter" class="w-5 h-5 text-gray-600"></i>
                  <select id="departmentFilter" class="px-4 py-2 border-2 border-gray-300 rounded font-semibold text-gray-800 focus:border-[#0F4C81] focus:outline-none">
                    <option value="전체">전체 부서</option>
                    <option value="영업부">영업부</option>
                    <option value="연구개발부">연구개발부</option>
                    <option value="마케팅부">마케팅부</option>
                    <option value="생산부">생산부</option>
                    <option value="인사부">인사부</option>
                  </select>
                </div>
              </div>

              <div class="flex items-center gap-3">
                <button onclick="refreshData()" class="px-4 py-2 bg-gray-100 hover:bg-gray-200 text-gray-800 rounded font-bold transition-colors flex items-center gap-2 border-2 border-gray-300">
                  <i data-lucide="refresh-cw" class="w-4 h-4"></i>
                  갱신
                </button>
                <button onclick="toggleBookmark()" id="bookmarkBtn" class="px-4 py-2 rounded font-bold transition-colors flex items-center gap-2 border-2 bg-white text-gray-800 border-gray-300 hover:bg-gray-50">
                  <i data-lucide="star" class="w-4 h-4"></i>
                  저장
                </button>
                <button onclick="downloadReport()" class="px-4 py-2 bg-[#0F4C81] hover:bg-[#1E5A8E] text-white rounded font-bold transition-colors flex items-center gap-2 border-2 border-[#1E5A8E]">
                  <i data-lucide="download" class="w-4 h-4"></i>
                  다운로드
                </button>
              </div>
            </div>
          </div>

          <!-- Main Indicators -->
          <div class="grid grid-cols-4 gap-4 fade-in">
            <div class="bg-white border-3 border-gray-300 rounded-lg p-5 shadow-md card-hover">
              <div class="flex items-start justify-between mb-3">
                <span class="text-sm text-gray-600 font-bold">총 매출액</span>
                <i data-lucide="trending-up" class="w-5 h-5 text-red-600"></i>
              </div>
              <div class="mb-2">
                <span class="text-3xl font-black text-gray-900">5,923</span>
                <span class="text-sm text-gray-600 font-semibold ml-1">백만원</span>
              </div>
              <div class="flex items-center gap-2">
                <span class="text-sm font-bold flex items-center gap-1 text-red-600">
                  ▲ 7.3%
                </span>
                <span class="text-xs text-gray-500">전월 대비</span>
              </div>
            </div>

            <div class="bg-white border-3 border-gray-300 rounded-lg p-5 shadow-md card-hover">
              <div class="flex items-start justify-between mb-3">
                <span class="text-sm text-gray-600 font-bold">영업이익</span>
                <i data-lucide="trending-up" class="w-5 h-5 text-red-600"></i>
              </div>
              <div class="mb-2">
                <span class="text-3xl font-black text-gray-900">2,458</span>
                <span class="text-sm text-gray-600 font-semibold ml-1">백만원</span>
              </div>
              <div class="flex items-center gap-2">
                <span class="text-sm font-bold flex items-center gap-1 text-red-600">
                  ▲ 14.3%
                </span>
                <span class="text-xs text-gray-500">전월 대비</span>
              </div>
            </div>

            <div class="bg-white border-3 border-gray-300 rounded-lg p-5 shadow-md card-hover">
              <div class="flex items-start justify-between mb-3">
                <span class="text-sm text-gray-600 font-bold">순이익률</span>
                <i data-lucide="trending-up" class="w-5 h-5 text-red-600"></i>
              </div>
              <div class="mb-2">
                <span class="text-3xl font-black text-gray-900">41.5</span>
                <span class="text-sm text-gray-600 font-semibold ml-1">%</span>
              </div>
              <div class="flex items-center gap-2">
                <span class="text-sm font-bold flex items-center gap-1 text-red-600">
                  ▲ 2.8%
                </span>
                <span class="text-xs text-gray-500">전월 대비</span>
              </div>
            </div>

            <div class="bg-white border-3 border-gray-300 rounded-lg p-5 shadow-md card-hover">
              <div class="flex items-start justify-between mb-3">
                <span class="text-sm text-gray-600 font-bold">직원 수</span>
                <i data-lucide="trending-up" class="w-5 h-5 text-red-600"></i>
              </div>
              <div class="mb-2">
                <span class="text-3xl font-black text-gray-900">342</span>
                <span class="text-sm text-gray-600 font-semibold ml-1">명</span>
              </div>
              <div class="flex items-center gap-2">
                <span class="text-sm font-bold flex items-center gap-1 text-red-600">
                  ▲ 5.2%
                </span>
                <span class="text-xs text-gray-500">전월 대비</span>
              </div>
            </div>
          </div>

          <!-- KRE Style Data Table -->
          <div class="bg-white border-3 border-gray-300 rounded-lg shadow-md overflow-hidden fade-in">
            <div class="bg-gradient-to-r from-gray-50 to-gray-100 px-6 py-4 border-b-3 border-gray-300">
              <h3 class="text-lg font-black text-gray-900 flex items-center gap-2">
                <i data-lucide="bar-chart-3" class="w-5 h-5 text-[#0F4C81]"></i>
                부서별 KPI 달성 현황
              </h3>
            </div>
            
            <div class="overflow-x-auto">
              <table class="w-full" id="kpiTable">
                <thead>
                  <tr class="bg-gray-100 border-b-2 border-gray-300">
                    <th class="px-6 py-4 text-left text-sm font-black text-gray-900">부서</th>
                    <th class="px-6 py-4 text-right text-sm font-black text-gray-900">목표(백만원)</th>
                    <th class="px-6 py-4 text-right text-sm font-black text-gray-900">실적(백만원)</th>
                    <th class="px-6 py-4 text-right text-sm font-black text-gray-900">달성률</th>
                    <th class="px-6 py-4 text-right text-sm font-black text-gray-900">등락</th>
                    <th class="px-6 py-4 text-right text-sm font-black text-gray-900">차이</th>
                  </tr>
                </thead>
                <tbody id="kpiTableBody">
                  <!-- Dynamically populated -->
                </tbody>
              </table>
            </div>
          </div>

          <!-- Charts -->
          <div class="grid grid-cols-2 gap-6 fade-in">
            <div class="bg-white border-3 border-gray-300 rounded-lg shadow-md p-6">
              <h3 class="text-lg font-black text-gray-900 mb-4 flex items-center gap-2">
                <i data-lucide="trending-up" class="w-5 h-5 text-[#0F4C81]"></i>
                월별 매출 추이
              </h3>
              <div class="chart-container">
                <canvas id="revenueChart" height="300"></canvas>
              </div>
            </div>

            <div class="bg-white border-3 border-gray-300 rounded-lg shadow-md p-6">
              <h3 class="text-lg font-black text-gray-900 mb-4 flex items-center gap-2">
                <i data-lucide="bar-chart-3" class="w-5 h-5 text-[#0F4C81]"></i>
                매출 vs 비용 비교
              </h3>
              <div class="chart-container">
                <canvas id="comparisonChart" height="300"></canvas>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </main>

  <!-- 로그인 모달 -->
  <div id="loginModal" class="modal-overlay" onclick="closeModalOnOverlay(event, 'loginModal')">
    <div class="modal-content" onclick="event.stopPropagation()">
      <div class="bg-gradient-to-r from-[#0F4C81] to-[#1E5A8E] p-8 rounded-t-2xl">
        <div class="flex items-center justify-between">
          <div class="flex items-center gap-4">
            <div class="w-14 h-14 bg-white/20 rounded-xl flex items-center justify-center">
              <i data-lucide="log-in" class="w-7 h-7 text-white"></i>
            </div>
            <div>
              <h2 class="text-2xl font-black text-white">로그인</h2>
              <p class="text-sm text-blue-100 font-semibold">홍익AI 보고서생성기에 오신 것을 환영합니다</p>
            </div>
          </div>
          <button onclick="closeLoginModal()" class="text-white hover:bg-white/20 p-2 rounded-lg transition-colors">
            <i data-lucide="x" class="w-6 h-6"></i>
          </button>
        </div>
      </div>
      
      <div class="p-8">
        <form onsubmit="handleLogin(event)" class="space-y-5">
          <div>
            <label class="block text-sm font-bold text-gray-700 mb-2">이메일</label>
            <input 
              type="email" 
              id="loginEmail"
              required
              placeholder="example@company.com"
              class="w-full px-4 py-3 border-2 border-gray-300 rounded-lg focus:border-[#0F4C81] focus:outline-none font-semibold text-gray-800"
            />
          </div>
          
          <div>
            <label class="block text-sm font-bold text-gray-700 mb-2">비밀번호</label>
            <input 
              type="password" 
              id="loginPassword"
              required
              placeholder="••••••••"
              class="w-full px-4 py-3 border-2 border-gray-300 rounded-lg focus:border-[#0F4C81] focus:outline-none font-semibold text-gray-800"
            />
          </div>
          
          <div class="flex items-center justify-between">
            <label class="flex items-center gap-2 cursor-pointer">
              <input type="checkbox" class="w-4 h-4 rounded border-gray-300">
              <span class="text-sm font-semibold text-gray-700">로그인 상태 유지</span>
            </label>
            <button type="button" class="text-sm font-bold text-[#0F4C81] hover:text-[#1E5A8E]">
              비밀번호 찾기
            </button>
          </div>
          
          <button 
            type="submit"
            class="w-full bg-[#0F4C81] hover:bg-[#1E5A8E] text-white py-4 rounded-lg font-black text-lg transition-all hover:scale-[1.02] shadow-lg flex items-center justify-center gap-2"
          >
            <i data-lucide="log-in" class="w-5 h-5"></i>
            <span>로그인</span>
          </button>
        </form>
        
        <div class="mt-6 text-center">
          <p class="text-sm text-gray-600 font-semibold">
            아직 계정이 없으신가요?
            <button onclick="switchToSignup()" class="text-[#0F4C81] hover:text-[#1E5A8E] font-black ml-1">
              회원가입
            </button>
          </p>
        </div>
      </div>
    </div>
  </div>

  <!-- 회원가입 모달 -->
  <div id="signupModal" class="modal-overlay" onclick="closeModalOnOverlay(event, 'signupModal')">
    <div class="modal-content" onclick="event.stopPropagation()">
      <div class="bg-gradient-to-r from-[#0F4C81] to-[#1E5A8E] p-8 rounded-t-2xl">
        <div class="flex items-center justify-between">
          <div class="flex items-center gap-4">
            <div class="w-14 h-14 bg-white/20 rounded-xl flex items-center justify-center">
              <i data-lucide="user-plus" class="w-7 h-7 text-white"></i>
            </div>
            <div>
              <h2 class="text-2xl font-black text-white">회원가입</h2>
              <p class="text-sm text-blue-100 font-semibold">새로운 계정을 만들어보세요</p>
            </div>
          </div>
          <button onclick="closeSignupModal()" class="text-white hover:bg-white/20 p-2 rounded-lg transition-colors">
            <i data-lucide="x" class="w-6 h-6"></i>
          </button>
        </div>
      </div>
      
      <div class="p-8">
        <form onsubmit="handleSignup(event)" class="space-y-5">
          <div>
            <label class="block text-sm font-bold text-gray-700 mb-2">이름</label>
            <input 
              type="text" 
              id="signupName"
              required
              placeholder="홍길동"
              class="w-full px-4 py-3 border-2 border-gray-300 rounded-lg focus:border-[#0F4C81] focus:outline-none font-semibold text-gray-800"
            />
          </div>
          
          <div>
            <label class="block text-sm font-bold text-gray-700 mb-2">이메일</label>
            <input 
              type="email" 
              id="signupEmail"
              required
              placeholder="example@company.com"
              class="w-full px-4 py-3 border-2 border-gray-300 rounded-lg focus:border-[#0F4C81] focus:outline-none font-semibold text-gray-800"
            />
          </div>
          
          <div>
            <label class="block text-sm font-bold text-gray-700 mb-2">비밀번호</label>
            <input 
              type="password" 
              id="signupPassword"
              required
              placeholder="8자 이상 입력"
              minlength="8"
              class="w-full px-4 py-3 border-2 border-gray-300 rounded-lg focus:border-[#0F4C81] focus:outline-none font-semibold text-gray-800"
            />
          </div>
          
          <div>
            <label class="block text-sm font-bold text-gray-700 mb-2">비밀번호 확인</label>
            <input 
              type="password" 
              id="signupPasswordConfirm"
              required
              placeholder="비밀번호 재입력"
              minlength="8"
              class="w-full px-4 py-3 border-2 border-gray-300 rounded-lg focus:border-[#0F4C81] focus:outline-none font-semibold text-gray-800"
            />
          </div>
          
          <div class="flex items-start gap-2">
            <input type="checkbox" required class="w-4 h-4 mt-1 rounded border-gray-300">
            <label class="text-sm font-semibold text-gray-700">
              <span class="text-[#0F4C81] font-bold">이용약관</span> 및 <span class="text-[#0F4C81] font-bold">개인정보처리방침</span>에 동의합니다
            </label>
          </div>
          
          <button 
            type="submit"
            class="w-full bg-[#0F4C81] hover:bg-[#1E5A8E] text-white py-4 rounded-lg font-black text-lg transition-all hover:scale-[1.02] shadow-lg flex items-center justify-center gap-2"
          >
            <i data-lucide="user-plus" class="w-5 h-5"></i>
            <span>가입하기</span>
          </button>
        </form>
        
        <div class="mt-6 text-center">
          <p class="text-sm text-gray-600 font-semibold">
            이미 계정이 있으신가요?
            <button onclick="switchToLogin()" class="text-[#0F4C81] hover:text-[#1E5A8E] font-black ml-1">
              로그인
            </button>
          </p>
        </div>
      </div>
    </div>
  </div>

  <!-- Footer -->
  <footer class="bg-gray-800 text-white py-12 border-t-4 border-[#0F4C81]">
    <div class="container">
      <div class="grid grid-cols-4 gap-8 mb-8">
        <div>
          <h3 class="text-lg font-black mb-4 text-yellow-400">홍익AI</h3>
          <p class="text-sm text-gray-400 font-semibold leading-relaxed">
            AI 기반 비즈니스 인텔리스<br/>
            플랫폼으로 데이터 기반<br/>
            의사결정을 지원합니다.
          </p>
        </div>
        <div>
          <h4 class="font-bold mb-4 text-gray-300">서비스</h4>
          <ul class="space-y-2 text-sm text-gray-400 font-semibold">
            <li><a href="#" class="hover:text-white transition-colors">AI 보고서 생성</a></li>
            <li><a href="#" class="hover:text-white transition-colors">데이터 분석</a></li>
            <li><a href="#" class="hover:text-white transition-colors">챗봇 상담</a></li>
            <li><a href="#" class="hover:text-white transition-colors">맞춤 솔루션</a></li>
          </ul>
        </div>
        <div>
          <h4 class="font-bold mb-4 text-gray-300">지원</h4>
          <ul class="space-y-2 text-sm text-gray-400 font-semibold">
            <li><a href="#" class="hover:text-white transition-colors">사용자 가이드</a></li>
            <li><a href="#" class="hover:text-white transition-colors">FAQ</a></li>
            <li><a href="#" class="hover:text-white transition-colors">고객지원</a></li>
            <li><a href="#" class="hover:text-white transition-colors">API 문서</a></li>
          </ul>
        </div>
        <div>
          <h4 class="font-bold mb-4 text-gray-300">문의</h4>
          <ul class="space-y-2 text-sm text-gray-400 font-semibold">
            <li>Tel: 02-1234-5678</li>
            <li>Email: contact@hongik.ai</li>
            <li>서울시 강남구 테헤란로 123</li>
          </ul>
        </div>
      </div>
      <div class="border-t border-gray-700 pt-6 text-center">
        <p class="text-sm text-gray-400 font-semibold">
          © 2026 홍익AI 보고서생성기. All rights reserved.
        </p>
      </div>
    </div>
  </footer>

  <!-- Image Preview Modal -->
  <div id="imagePreviewModal" class="fixed inset-0 bg-black/90 z-50 hidden flex items-center justify-center p-4" onclick="closeImagePreview()">
    <button onclick="closeImagePreview()" class="absolute top-4 right-4 text-white hover:text-gray-300 transition-colors z-10">
      <i data-lucide="x" class="w-8 h-8"></i>
    </button>
    <div class="max-w-7xl max-h-full flex items-center justify-center" onclick="event.stopPropagation()">
      <img id="previewImage" src="" alt="미리보기" class="max-w-full max-h-[90vh] object-contain rounded-lg shadow-2xl" />
    </div>
    <div id="previewImageName" class="absolute bottom-8 left-1/2 transform -translate-x-1/2 bg-black/70 text-white px-6 py-3 rounded-lg font-bold text-lg"></div>
  </div>

  <!-- JavaScript -->
  <script>
    // Initialize Lucide Icons
    lucide.createIcons();

    // Keyboard shortcuts
    document.addEventListener('keydown', (e) => {
      if (e.key === 'Escape') {
        closeImagePreview();
      }
    });

    // State Management
    let currentView = 'chatbot';
    let isBookmarked = false;
    let currentCategory = '';
    let chatHistory = [];
    let attachedFiles = [];
    
    // Department Data
    const departmentData = [
      { dept: '영업부', target: 12000, actual: 13200, achievement: 110, trend: 'up', variance: 1200 },
      { dept: '연구개발부', target: 8500, actual: 8947, achievement: 105, trend: 'up', variance: 447 },
      { dept: '마케팅부', target: 4500, actual: 5100, achievement: 113, trend: 'up', variance: 600 },
      { dept: '생산부', target: 15000, actual: 14200, achievement: 95, trend: 'down', variance: -800 },
      { dept: '인사부', target: 2500, actual: 2700, achievement: 108, trend: 'up', variance: 200 },
    ];

    // Chart Data
    const monthlyData = {
      labels: ['9월', '10월', '11월', '12월', '1월', '2월'],
      revenue: [4200, 4580, 5120, 5450, 5680, 5923],
      target: [4000, 4200, 4500, 4800, 5000, 5200],
      cost: [2800, 2950, 3200, 3400, 3550, 3680]
    };

    // Navigation
    function navigateTo(view, category = null) {
      currentView = view;
      
      // Hide all views
      document.querySelectorAll('.view-content').forEach(el => el.classList.add('hidden'));
      
      // Show selected view
      if (view === 'chatbot') {
        document.getElementById('chatbotView').classList.remove('hidden');
        updateActiveMenu('menu-chatbot');
      } else if (view === 'report') {
        document.getElementById('reportView').classList.remove('hidden');
        updateActiveMenu('menu-report');
        loadReportData(category);
        initCharts();
        updateKPITable();
      } else if (view === 'category') {
        document.getElementById('categoryView').classList.remove('hidden');
        updateActiveMenu('menu-' + category);
        populateCategoryItems(category);
      }
      
      // Scroll to top
      window.scrollTo({ top: 0, behavior: 'smooth' });
    }

    function updateActiveMenu(menuId) {
      document.querySelectorAll('nav button').forEach(btn => {
        btn.classList.remove('bg-white', 'shadow-md');
      });
      const activeBtn = document.getElementById(menuId);
      if (activeBtn) {
        activeBtn.classList.add('bg-white', 'shadow-md');
      }
    }

    // Modal Functions
    function showLoginModal() {
      document.getElementById('loginModal').classList.add('active');
      document.body.style.overflow = 'hidden';
      setTimeout(() => lucide.createIcons(), 100);
    }

    function closeLoginModal() {
      document.getElementById('loginModal').classList.remove('active');
      document.body.style.overflow = '';
    }

    function showSignupModal() {
      document.getElementById('signupModal').classList.add('active');
      document.body.style.overflow = 'hidden';
      setTimeout(() => lucide.createIcons(), 100);
    }

    function closeSignupModal() {
      document.getElementById('signupModal').classList.remove('active');
      document.body.style.overflow = '';
    }

    function closeModalOnOverlay(event, modalId) {
      if (event.target.id === modalId) {
        document.getElementById(modalId).classList.remove('active');
        document.body.style.overflow = '';
      }
    }

    function switchToSignup() {
      closeLoginModal();
      setTimeout(() => showSignupModal(), 200);
    }

    function switchToLogin() {
      closeSignupModal();
      setTimeout(() => showLoginModal(), 200);
    }

    function handleLogin(event) {
      event.preventDefault();
      const email = document.getElementById('loginEmail').value;
      const password = document.getElementById('loginPassword').value;
      
      // 실제 로그인 로직은 백엔드와 연동 필요
      showToast('로그인 성공! 환영합니다.');
      closeLoginModal();
      
      // 폼 초기화
      document.getElementById('loginEmail').value = '';
      document.getElementById('loginPassword').value = '';
    }

    function handleSignup(event) {
      event.preventDefault();
      const name = document.getElementById('signupName').value;
      const email = document.getElementById('signupEmail').value;
      const password = document.getElementById('signupPassword').value;
      const passwordConfirm = document.getElementById('signupPasswordConfirm').value;
      
      if (password !== passwordConfirm) {
        showToast('비밀번호가 일치하지 않습니다.');
        return;
      }
      
      // 실제 회원가입 로직은 백엔드와 연동 필요
      showToast('회원가입이 완료되었습니다! 로그인해주세요.');
      closeSignupModal();
      
      // 폼 초기화
      document.getElementById('signupName').value = '';
      document.getElementById('signupEmail').value = '';
      document.getElementById('signupPassword').value = '';
      document.getElementById('signupPasswordConfirm').value = '';
    }

    // Chat Functions
    function sendQuickQuestion(question) {
      document.getElementById('chatInput').value = question;
      sendMessage();
    }

    function sendMessage() {
      const input = document.getElementById('chatInput');
      const message = input.value.trim();
      
      if (!message && attachedFiles.length === 0) return;
      
      const chatMessages = document.getElementById('chatMessages');
      
      // Clear placeholder
      if (chatMessages.querySelector('.text-center')) {
        chatMessages.innerHTML = '';
      }
      
      // Add user message with files
      const userMsg = document.createElement('div');
      userMsg.className = 'chat-message user flex flex-col items-end gap-2 mb-4';
      
      let msgHTML = '';
      
      // Message text bubble (separate from files)
      if (message) {
        msgHTML += `<div class="bg-[#0F4C81] text-white px-4 py-3 rounded-xl font-semibold max-w-[80%]">${message}</div>`;
      }
      
      // Attached files below message bubble (outside the bubble)
      if (attachedFiles.length > 0) {
        
        // Show images
        const images = attachedFiles.filter(f => f.type.startsWith('image/'));
        if (images.length > 0) {
          msgHTML += '<div class="grid grid-cols-2 gap-2 max-w-[80%]">';
          images.forEach(file => {
            msgHTML += `
              <div class="relative rounded-lg overflow-hidden border-2 border-blue-200 cursor-pointer hover:border-blue-400 transition-colors" onclick="openImagePreview('${file.preview}', '${file.name}')">
                <img src="${file.preview}" alt="${file.name}" class="w-full h-32 object-cover" />
                <div class="absolute bottom-0 left-0 right-0 bg-gradient-to-t from-black/70 to-transparent p-2">
                  <p class="text-white text-xs font-semibold truncate">${file.name}</p>
                </div>
              </div>
            `;
          });
          msgHTML += '</div>';
        }
        
        // Show non-image files
        const files = attachedFiles.filter(f => !f.type.startsWith('image/'));
        if (files.length > 0) {
          msgHTML += '<div class="space-y-2 max-w-[80%]">';
          files.forEach((file, idx) => {
            const icon = getFileIcon(file.type);
            const fileId = `file-${Date.now()}-${idx}`;
            // Store file data for download
            window[fileId] = file;
            msgHTML += `
              <div class="flex items-center gap-2 bg-white border-2 border-blue-200 rounded-lg p-2 cursor-pointer hover:bg-blue-50 hover:border-blue-400 transition-colors" onclick="downloadChatFile('${fileId}')">
                <i data-lucide="${icon}" class="w-5 h-5 text-blue-600 flex-shrink-0"></i>
                <div class="flex-1 min-w-0">
                  <p class="text-sm font-bold text-gray-900 truncate">${file.name}</p>
                  <p class="text-xs text-gray-500">${formatFileSize(file.size)}</p>
                </div>
                <i data-lucide="download" class="w-4 h-4 text-blue-600 flex-shrink-0"></i>
              </div>
            `;
          });
          msgHTML += '</div>';
        }
      }
      
      userMsg.innerHTML = msgHTML;
      chatMessages.appendChild(userMsg);
      lucide.createIcons();
      
      // Clear input and files
      input.value = '';
      clearAllFiles();
      
      // Scroll to bottom
      chatMessages.scrollTop = chatMessages.scrollHeight;
      
      // Show typing indicator
      const typingMsg = document.createElement('div');
      typingMsg.className = 'chat-message ai';
      typingMsg.innerHTML = `
        <div class="bg-gray-100 px-4 py-3 rounded-xl max-w-[80%]">
          <div class="typing-indicator">
            <span></span>
            <span></span>
            <span></span>
          </div>
        </div>
      `;
      chatMessages.appendChild(typingMsg);
      chatMessages.scrollTop = chatMessages.scrollHeight;
      
      // Simulate AI response
      setTimeout(() => {
        typingMsg.remove();
        
        const aiResponse = generateAIResponse(message);
        const aiMsg = document.createElement('div');
        aiMsg.className = 'chat-message ai';
        aiMsg.innerHTML = `<div class="bg-gray-100 text-gray-900 px-4 py-3 rounded-xl max-w-[80%] font-semibold">${aiResponse}</div>`;
        chatMessages.appendChild(aiMsg);
        
        chatMessages.scrollTop = chatMessages.scrollHeight;
      }, 1500);
    }

    function generateAIResponse(question) {
      const responses = {
        '매출': '최근 6개월간 매출은 꾸준히 상승하고 있습니다. 9월 42억원에서 2월 59억원으로 약 40% 증가했습니다. 특히 영업부의 목표 달성률이 110%로 매우 우수합니다.',
        '예산': '전체 부서의 예산 집행률은 평균 106%입니다. 마케팅부가 113%로 가장 높고, 생산부만 95%로 목표에 약간 미달했습니다. 전반적으로 양호한 상태입니다.',
        '근태': '이번 달 직원 근태율은 95.8%로 전월 대비 1.2% 상승했습니다. 지각은 3건, 결근은 2건으로 양호한 수준을 유지하고 있습니다.',
        '품질': '생산 품질 지표는 96.8%로 목표인 95%를 초과 달성했습니다. 불량률은 1.2%로 전월 대비 0.3% 감소하여 품질 관리가 개선되고 있습니다.',
        '인력': '현재 총 직원 수는 342명으로 전월 대비 5.2% 증가했습니다. 주로 연구개발부와 영업부에서 신규 인력을 충원했습니다.'
      };
      
      for (let keyword in responses) {
        if (question.includes(keyword)) {
          return responses[keyword];
        }
      }
      
      return '질문해신 내용에 대한 데이터를 분석 중입니다. 더 구체적인 질문을 주시면 정확한 답변을 드리겠습니다. 예를 들어 "최근 3개월 매출 추이" 또는 "부서별 예산 현황" 같은 질문을 해주세요.';
    }

    function handleChatKeyPress(event) {
      if (event.key === 'Enter') {
        sendMessage();
      }
    }

    // File Attachment Functions
    function handleFileSelect(event) {
      const files = Array.from(event.target.files);
      
      files.forEach(file => {
        if (file.size > 10 * 1024 * 1024) {
          showToast('파일 크기는 10MB 이하만 가능합니다: ' + file.name);
          return;
        }
        
        const fileObj = {
          name: file.name,
          size: file.size,
          type: file.type,
          preview: null
        };
        
        // Create preview for images
        if (file.type.startsWith('image/')) {
          const reader = new FileReader();
          reader.onload = (e) => {
            fileObj.preview = e.target.result;
            attachedFiles.push(fileObj);
            updateFileList();
          };
          reader.readAsDataURL(file);
        } else {
          attachedFiles.push(fileObj);
          updateFileList();
        }
      });
      
      // Reset input
      event.target.value = '';
    }
    
    function updateFileList() {
      const preview = document.getElementById('attachedFilesPreview');
      const fileList = document.getElementById('fileList');
      const fileCount = document.getElementById('fileCount');
      
      if (attachedFiles.length === 0) {
        preview.classList.add('hidden');
        return;
      }
      
      preview.classList.remove('hidden');
      fileCount.textContent = attachedFiles.length;
      
      fileList.innerHTML = '';
      
      attachedFiles.forEach((file, index) => {
        const fileItem = document.createElement('div');
        fileItem.className = 'flex items-center gap-3 bg-gray-50 border-2 border-gray-200 rounded-lg p-3';
        
        let previewHTML = '';
        if (file.preview) {
          previewHTML = `<img src="${file.preview}" alt="${file.name}" class="w-12 h-12 rounded object-cover" />`;
        } else {
          const icon = getFileIcon(file.type);
          previewHTML = `
            <div class="w-12 h-12 bg-blue-100 rounded flex items-center justify-center">
              <i data-lucide="${icon}" class="w-6 h-6 text-blue-600"></i>
            </div>
          `;
        }
        
        fileItem.innerHTML = `
          ${previewHTML}
          <div class="flex-1 min-w-0">
            <p class="text-sm font-bold text-gray-900 truncate">${file.name}</p>
            <p class="text-xs text-gray-500">${formatFileSize(file.size)}</p>
          </div>
          <button onclick="removeFile(${index})" class="p-2 hover:bg-red-50 rounded transition-colors">
            <i data-lucide="x" class="w-4 h-4 text-red-500"></i>
          </button>
        `;
        
        fileList.appendChild(fileItem);
      });
      
      lucide.createIcons();
    }
    
    function removeFile(index) {
      attachedFiles.splice(index, 1);
      updateFileList();
      showToast('파일이 제거되었습니다');
    }
    
    function clearAllFiles() {
      attachedFiles = [];
      updateFileList();
    }
    
    function getFileIcon(fileType) {
      if (fileType.includes('pdf')) return 'file-text';
      if (fileType.includes('word') || fileType.includes('document')) return 'file-text';
      if (fileType.includes('excel') || fileType.includes('spreadsheet')) return 'file-spreadsheet';
      if (fileType.includes('image')) return 'image';
      return 'file';
    }
    
    function formatFileSize(bytes) {
      if (bytes === 0) return '0 Bytes';
      const k = 1024;
      const sizes = ['Bytes', 'KB', 'MB', 'GB'];
      const i = Math.floor(Math.log(bytes) / Math.log(k));
      return Math.round(bytes / Math.pow(k, i) * 100) / 100 + ' ' + sizes[i];
    }

    // Image Preview Functions
    function openImagePreview(imageSrc, imageName) {
      const modal = document.getElementById('imagePreviewModal');
      const previewImage = document.getElementById('previewImage');
      const previewImageName = document.getElementById('previewImageName');
      
      previewImage.src = imageSrc;
      previewImageName.textContent = imageName;
      modal.classList.remove('hidden');
      modal.classList.add('flex');
      
      // Prevent body scroll
      document.body.style.overflow = 'hidden';
      
      // Reinitialize icons
      setTimeout(() => lucide.createIcons(), 100);
    }
    
    function closeImagePreview() {
      const modal = document.getElementById('imagePreviewModal');
      modal.classList.add('hidden');
      modal.classList.remove('flex');
      
      // Restore body scroll
      document.body.style.overflow = '';
    }
    
    // File Download Function
    function downloadChatFile(fileId) {
      const fileData = window[fileId];
      if (!fileData) {
        showToast('파일을 찾을 수 없습니다.');
        return;
      }
      
      // Create a mock file download
      // In a real application, this would download the actual file
      showToast(`${fileData.name} 다운로드를 시작합니다.`);
      
      // Simulate download with a data URL (for demonstration)
      // In real app, you would use the actual file blob
      const link = document.createElement('a');
      link.download = fileData.name;
      link.href = '#'; // In real app: URL.createObjectURL(fileBlob)
      link.click();
    }

    // Report Data Loading
    function loadReportData(category) {
      if (!category) category = '회계 > 매입매출 현황';
      currentCategory = category;
      
      // Check if current report is bookmarked
      isBookmarked = savedReports.some(r => r.category === category);
      updateBookmarkButton();
      
      const reportData = getReportDataByCategory(category);
      
      // Update report header
      const titleEl = document.querySelector('#reportView h2');
      const descEl = document.querySelector('#reportView h2 + p');
      if (titleEl) titleEl.textContent = reportData.title;
      if (descEl) descEl.textContent = reportData.description;
      
      // Update quick action buttons
      const actionBtns = document.querySelectorAll('#reportView .px-5.py-2\\.5.bg-blue-100');
      reportData.actions.forEach((action, idx) => {
        if (actionBtns[idx]) {
          actionBtns[idx].childNodes[2].textContent = action;
        }
      });
      
      // Update KPI cards
      updateKPICards(reportData.kpis);
      
      // Update table data
      departmentData.length = 0;
      departmentData.push(...reportData.tableData);
      
      // Update chart data
      monthlyData.labels = reportData.chartLabels;
      monthlyData.revenue = reportData.chartRevenue;
      monthlyData.target = reportData.chartTarget;
      monthlyData.cost = reportData.chartCost;
      
      // Update HOT NOTICE
      const noticeTitle = document.querySelector('#reportView .bg-gradient-to-r h2');
      const noticeDesc = document.querySelector('#reportView .bg-gradient-to-r p');
      if (noticeTitle && reportData.notice) noticeTitle.textContent = reportData.notice.title;
      if (noticeDesc && reportData.notice) noticeDesc.textContent = reportData.notice.description;
    }

    // Get Report Data by Category
    function getReportDataByCategory(category) {
      const reports = {
        '회계 > 매입매출 현황': { title: '회계 관리 시스템', description: '매입/매출 종합 지표 관리, 차수 리스크 탐지, 결산 시뮬레이션', actions: ['AI 재무 리스크 자동 탐지', '경영 권고 대비 비용 효율 분석', '결산 시나리오 시뮬레이션'], kpis: [{ label: '총 매출액', value: '5,923', unit: '백만원', change: '+7.3%', trend: 'up', icon: 'trending-up' }, { label: '영업이익', value: '2,458', unit: '백만원', change: '+14.3%', trend: 'up', icon: 'trending-up' }, { label: '순이익률', value: '41.5', unit: '%', change: '+2.8%', trend: 'up', icon: 'trending-up' }, { label: '직원 수', value: '342', unit: '명', change: '+5.2%', trend: 'up', icon: 'trending-up' }], tableData: [{ dept: '영업부', target: 12000, actual: 13200, achievement: 110, trend: 'up', variance: 1200 }, { dept: '연구개발부', target: 8500, actual: 8947, achievement: 105, trend: 'up', variance: 447 }, { dept: '마케팅부', target: 4500, actual: 5100, achievement: 113, trend: 'up', variance: 600 }, { dept: '생산부', target: 15000, actual: 14200, achievement: 95, trend: 'down', variance: -800 }, { dept: '인사부', target: 2500, actual: 2700, achievement: 108, trend: 'up', variance: 200 }], chartLabels: ['9월', '10월', '11월', '12월', '1월', '2월'], chartRevenue: [4200, 4580, 5120, 5450, 5680, 5923], chartTarget: [4000, 4200, 4500, 4800, 5000, 5200], chartCost: [2800, 2950, 3200, 3400, 3550, 3680], notice: { title: '2026년산 정부 비축미 공매 시작', description: '연중 1차 비축미가 6차 개찰 | 총 40만 톤 규모 | 시장과 업종 영향' }},
        '회계 > 결산 보고서': { title: '결산 보고서 시스템', description: '연간 결산 데이터 분석, 손익계산서, 재무상태표 자동 생성', actions: ['분기별 결산 비교 분석', '세무 신고 자료 자동 추출', '이월 손익 시뮬레이션'], kpis: [{ label: '당기순이익', value: '8,247', unit: '백만원', change: '+12.5%', trend: 'up', icon: 'trending-up' }, { label: '총자산', value: '45,820', unit: '백만원', change: '+8.2%', trend: 'up', icon: 'trending-up' }, { label: '부채비율', value: '32.4', unit: '%', change: '-3.1%', trend: 'down', icon: 'trending-down' }, { label: 'ROE', value: '18.7', unit: '%', change: '+5.4%', trend: 'up', icon: 'trending-up' }], tableData: [{ dept: '매출총이익', target: 25000, actual: 27500, achievement: 110, trend: 'up', variance: 2500 }, { dept: '영업이익', target: 10000, actual: 11200, achievement: 112, trend: 'up', variance: 1200 }, { dept: '당기순이익', target: 7500, actual: 8247, achievement: 110, trend: 'up', variance: 747 }, { dept: '총자산', target: 42000, actual: 45820, achievement: 109, trend: 'up', variance: 3820 }, { dept: '자본총계', target: 28000, actual: 31000, achievement: 111, trend: 'up', variance: 3000 }], chartLabels: ['1분기', '2분기', '3분기', '4분기', '누적', '예상'], chartRevenue: [5200, 6100, 6800, 7500, 25600, 27500], chartTarget: [5000, 6000, 7000, 7500, 25500, 25500], chartCost: [3200, 3800, 4200, 4600, 15800, 16300], notice: { title: '2026년 법인세 신고 일정 안내', description: '3월 31일까지 법인세 신고 완료 필수 | 전자신고 권장 | 세액공제 항목 확인' }},
        '인사 > 채용 현황': { title: '채용 관리 시스템', description: '신규 채용 현황, 직무별 인력 수급, 채용 프로세스 추적', actions: ['직무별 채용 공고 자동 생성', '면접 일정 AI 최적화', '인재풀 데이터베이스 관리'], kpis: [{ label: '신규 채용', value: '28', unit: '명', change: '+12명', trend: 'up', icon: 'user-plus' }, { label: '지원자 수', value: '342', unit: '명', change: '+45명', trend: 'up', icon: 'users' }, { label: '채용 전환율', value: '8.2', unit: '%', change: '+1.5%', trend: 'up', icon: 'trending-up' }, { label: '평균 채용일', value: '24', unit: '일', change: '-3일', trend: 'down', icon: 'clock' }], tableData: [{ dept: '개발팀', target: 15, actual: 12, achievement: 80, trend: 'down', variance: -3 }, { dept: '영업팀', target: 10, actual: 12, achievement: 120, trend: 'up', variance: 2 }, { dept: '마케팅팀', target: 5, actual: 6, achievement: 120, trend: 'up', variance: 1 }, { dept: '디자인팀', target: 8, actual: 9, achievement: 113, trend: 'up', variance: 1 }, { dept: '경영지원팀', target: 6, actual: 7, achievement: 117, trend: 'up', variance: 1 }], chartLabels: ['9월', '10월', '11월', '12월', '1월', '2월'], chartRevenue: [3, 5, 8, 6, 9, 12], chartTarget: [5, 5, 7, 8, 10, 10], chartCost: [15, 18, 22, 28, 35, 42], notice: { title: '2026년 상반기 신입사원 공채 시작', description: '3월 15일까지 지원 접수 | 전 직군 모집 | AI 기반 역량 평가 도입' }},
        '인사 > 근태 관리': { title: '근태 관리 시스템', description: '출퇴근 현황, 휴가 사용 현황, 초과근무 통계 분석', actions: ['실시간 근태 모니터링', '휴가 자동 승인 시스템', '초과근무 패턴 AI 분석'], kpis: [{ label: '평균 출근율', value: '96.8', unit: '%', change: '+1.2%', trend: 'up', icon: 'check-circle' }, { label: '지각 건수', value: '8', unit: '건', change: '-3건', trend: 'down', icon: 'clock' }, { label: '평균 초과근무', value: '12.4', unit: '시간', change: '-2.1시간', trend: 'down', icon: 'clock' }, { label: '휴가 사용률', value: '78.5', unit: '%', change: '+5.3%', trend: 'up', icon: 'calendar' }], tableData: [{ dept: '개발팀', target: 95, actual: 97, achievement: 102, trend: 'up', variance: 2 }, { dept: '영업팀', target: 95, actual: 98, achievement: 103, trend: 'up', variance: 3 }, { dept: '마케팅팀', target: 95, actual: 96, achievement: 101, trend: 'up', variance: 1 }, { dept: '디자인팀', target: 95, actual: 95, achievement: 100, trend: 'up', variance: 0 }, { dept: '경영지원팀', target: 95, actual: 99, achievement: 104, trend: 'up', variance: 4 }], chartLabels: ['9월', '10월', '11월', '12월', '1월', '2월'], chartRevenue: [95.2, 96.1, 95.8, 96.5, 97.2, 96.8], chartTarget: [95, 95, 95, 95, 95, 95], chartCost: [15, 12, 18, 14, 10, 8], notice: { title: '연차 휴가 촉진 제도 안내', description: '미사용 연차 자동 소멸 예정 | 3월 말까지 사용 권장 | 부서별 휴가 계획 수립' }},
        '영업·마케팅 > 매출 분석': { title: '매출 분석 시스템', description: '부문별 매출 현황, 고객사별 매출 추이, 상품별 수익성 분석', actions: ['고객사별 매출 자동 집계', '상품 수익성 AI 예측', '판매 트렌드 분석'], kpis: [{ label: '월 매출액', value: '8,523', unit: '백만원', change: '+15.2%', trend: 'up', icon: 'trending-up' }, { label: '신규 고객', value: '47', unit: '개사', change: '+12개사', trend: 'up', icon: 'users' }, { label: '객단가', value: '185', unit: '만원', change: '+8.3%', trend: 'up', icon: 'credit-card' }, { label: '재구매율', value: '72.4', unit: '%', change: '+4.1%', trend: 'up', icon: 'repeat' }], tableData: [{ dept: 'A제품군', target: 3000, actual: 3450, achievement: 115, trend: 'up', variance: 450 }, { dept: 'B제품군', target: 2500, actual: 2780, achievement: 111, trend: 'up', variance: 280 }, { dept: 'C제품군', target: 2000, actual: 1950, achievement: 98, trend: 'down', variance: -50 }, { dept: 'D제품군', target: 1500, actual: 1720, achievement: 115, trend: 'up', variance: 220 }, { dept: '기타', target: 1000, actual: 1180, achievement: 118, trend: 'up', variance: 180 }], chartLabels: ['9월', '10월', '11월', '12월', '1월', '2월'], chartRevenue: [6200, 6800, 7200, 7800, 8100, 8523], chartTarget: [6000, 6500, 7000, 7500, 8000, 8000], chartCost: [4200, 4500, 4800, 5100, 5400, 5600], notice: { title: '설 연휴 특별 프로모션 성과 발표', description: '목표 대비 142% 달성 | 신규 고객 유입 급증 | 다음 분기 전략 수립' }},
        '영업·마케팅 > 캠페인 성과': { title: '마케팅 캠페인 분석', description: '캠페인별 성과 측정, ROI 분석, 채널별 효율성 평가', actions: ['캠페인 ROI 자동 계산', '채널별 전환율 분석', 'A/B 테스트 결과 리포트'], kpis: [{ label: '총 노출수', value: '2.4M', unit: '회', change: '+28.5%', trend: 'up', icon: 'eye' }, { label: '클릭률', value: '4.2', unit: '%', change: '+0.8%', trend: 'up', icon: 'mouse-pointer' }, { label: '전환율', value: '2.8', unit: '%', change: '+0.5%', trend: 'up', icon: 'trending-up' }, { label: 'ROAS', value: '420', unit: '%', change: '+35%', trend: 'up', icon: 'dollar-sign' }], tableData: [{ dept: 'SNS 광고', target: 500, actual: 650, achievement: 130, trend: 'up', variance: 150 }, { dept: '검색 광고', target: 800, actual: 920, achievement: 115, trend: 'up', variance: 120 }, { dept: '배너 광고', target: 300, actual: 280, achievement: 93, trend: 'down', variance: -20 }, { dept: '이메일 마케팅', target: 200, actual: 245, achievement: 123, trend: 'up', variance: 45 }, { dept: '제휴 마케팅', target: 400, actual: 485, achievement: 121, trend: 'up', variance: 85 }], chartLabels: ['9월', '10월', '11월', '12월', '1월', '2월'], chartRevenue: [1.2, 1.5, 1.8, 2.0, 2.2, 2.4], chartTarget: [1.5, 1.6, 1.7, 1.8, 2.0, 2.2], chartCost: [280, 320, 380, 420, 480, 520], notice: { title: '신규 인플루언서 마케팅 캠페인 시작', description: '3월부터 유튜브/인스타그램 집중 공략 | 예산 30% 증액 | 목표 ROAS 500%' }},
        '생산·품질 > 생산 실적': { title: '생산 실적 관리 시스템', description: '일일 생산량, 라인별 가동률, 목표 달성률 실시간 모니터링', actions: ['실시간 생산 모니터링', '라인 효율성 AI 분석', '설비 가동률 최적화'], kpis: [{ label: '월 생산량', value: '45,200', unit: '개', change: '+8.5%', trend: 'up', icon: 'package' }, { label: '가동률', value: '92.4', unit: '%', change: '+3.2%', trend: 'up', icon: 'activity' }, { label: '불량률', value: '1.2', unit: '%', change: '-0.3%', trend: 'down', icon: 'alert-circle' }, { label: '납기준수율', value: '98.7', unit: '%', change: '+1.5%', trend: 'up', icon: 'check-circle' }], tableData: [{ dept: '1호 라인', target: 12000, actual: 13200, achievement: 110, trend: 'up', variance: 1200 }, { dept: '2호 라인', target: 11000, actual: 11550, achievement: 105, trend: 'up', variance: 550 }, { dept: '3호 라인', target: 10000, actual: 9850, achievement: 99, trend: 'down', variance: -150 }, { dept: '4호 라인', target: 9000, actual: 9420, achievement: 105, trend: 'up', variance: 420 }, { dept: '5호 라인', target: 8000, actual: 8180, achievement: 102, trend: 'up', variance: 180 }], chartLabels: ['9월', '10월', '11월', '12월', '1월', '2월'], chartRevenue: [38000, 40500, 42000, 43500, 44800, 45200], chartTarget: [40000, 40000, 42000, 43000, 44000, 45000], chartCost: [520, 480, 550, 490, 510, 470], notice: { title: '신규 자동화 설비 도입 완료', description: '3월부터 가동 시작 | 생산량 20% 증대 예상 | 품질 안정성 향상' }},
        '생산·품질 > 불량률 분석': { title: '품질 관리 시스템', description: '불량 유형별 분석, 공정별 불량률, 품질 개선 제안', actions: ['불량 원인 AI 자동 분석', '공정별 품질 모니터링', '예방 정비 스케줄링'], kpis: [{ label: '전체 불량률', value: '1.24', unit: '%', change: '-0.28%', trend: 'down', icon: 'alert-circle' }, { label: '재작업률', value: '0.85', unit: '%', change: '-0.15%', trend: 'down', icon: 'rotate-cw' }, { label: '고객 클레임', value: '3', unit: '건', change: '-2건', trend: 'down', icon: 'alert-triangle' }, { label: '품질 점수', value: '96.8', unit: '점', change: '+2.3점', trend: 'up', icon: 'star' }], tableData: [{ dept: '외관 불량', target: 0.5, actual: 0.42, achievement: 116, trend: 'down', variance: -0.08 }, { dept: '치수 불량', target: 0.3, actual: 0.28, achievement: 107, trend: 'down', variance: -0.02 }, { dept: '기능 불량', target: 0.4, actual: 0.35, achievement: 113, trend: 'down', variance: -0.05 }, { dept: '포장 불량', target: 0.2, actual: 0.15, achievement: 125, trend: 'down', variance: -0.05 }, { dept: '기타', target: 0.1, actual: 0.04, achievement: 140, trend: 'down', variance: -0.06 }], chartLabels: ['9월', '10월', '11월', '12월', '1월', '2월'], chartRevenue: [1.85, 1.72, 1.58, 1.45, 1.32, 1.24], chartTarget: [1.5, 1.5, 1.4, 1.3, 1.3, 1.2], chartCost: [8, 7, 6, 5, 4, 3], notice: { title: 'ISO 9001 품질경영시스템 갱신 심사 통과', description: '2026년 3월 인증서 발급 | 전 부문 적합 판정 | 품질 경쟁력 강화' }},
        '회계 > 자금흐름 분석': { title: '자금흐름 분석 시스템', description: '현금흐름 추이, 유동성 관리, 자금 운용 효율성 분석', actions: ['현금흐름 예측 모델링', '자금 유출입 실시간 추적', '유동성 리스크 알림'], kpis: [{ label: '현금 보유액', value: '12,450', unit: '백만원', change: '+8.2%', trend: 'up', icon: 'wallet' }, { label: '유동비율', value: '245', unit: '%', change: '+12%', trend: 'up', icon: 'trending-up' }, { label: '당좌비율', value: '185', unit: '%', change: '+7%', trend: 'up', icon: 'trending-up' }, { label: '현금회전일', value: '42', unit: '일', change: '-5일', trend: 'down', icon: 'clock' }], tableData: [{ dept: '영업활동', target: 5000, actual: 5820, achievement: 116, trend: 'up', variance: 820 }, { dept: '투자활동', target: -2000, actual: -1750, achievement: 113, trend: 'up', variance: 250 }, { dept: '재무활동', target: -1500, actual: -1380, achievement: 108, trend: 'up', variance: 120 }, { dept: '현금증감', target: 1500, actual: 2690, achievement: 179, trend: 'up', variance: 1190 }, { dept: '기말잔액', target: 10000, actual: 12450, achievement: 125, trend: 'up', variance: 2450 }], chartLabels: ['9월', '10월', '11월', '12월', '1월', '2월'], chartRevenue: [9500, 10200, 10800, 11400, 11900, 12450], chartTarget: [9000, 9200, 9500, 9700, 10000, 10000], chartCost: [2800, 2650, 2900, 2750, 2850, 2690], notice: { title: '1분기 자금운용 계획 수립 완료', description: '안정적 유동성 확보 | 단기차입 최소화 | 여유자금 운용 전략' }},
        '회계 > ROI 보고서': { title: 'ROI 분석 시스템', description: '투자 수익률 분석, 프로젝트별 ROI, 투자 포트폴리오 최적화', actions: ['프로젝트별 ROI 자동 계산', '투자 우선순위 AI 추천', '수익성 시나리오 분석'], kpis: [{ label: '총 ROI', value: '28.5', unit: '%', change: '+5.2%', trend: 'up', icon: 'trending-up' }, { label: '투자 회수기간', value: '18', unit: '개월', change: '-3개월', trend: 'down', icon: 'clock' }, { label: '순현재가치', value: '3,450', unit: '백만원', change: '+15%', trend: 'up', icon: 'dollar-sign' }, { label: '내부수익률', value: '22.8', unit: '%', change: '+4.1%', trend: 'up', icon: 'trending-up' }], tableData: [{ dept: '설비투자', target: 20, actual: 28, achievement: 140, trend: 'up', variance: 8 }, { dept: 'R&D 투자', target: 25, actual: 32, achievement: 128, trend: 'up', variance: 7 }, { dept: '마케팅 투자', target: 30, actual: 35, achievement: 117, trend: 'up', variance: 5 }, { dept: 'IT 투자', target: 15, actual: 18, achievement: 120, trend: 'up', variance: 3 }, { dept: '인력 투자', target: 22, actual: 24, achievement: 109, trend: 'up', variance: 2 }], chartLabels: ['9월', '10월', '11월', '12월', '1월', '2월'], chartRevenue: [18.5, 20.2, 22.8, 24.5, 26.8, 28.5], chartTarget: [20, 21, 22, 23, 24, 25], chartCost: [12, 13, 14, 15, 16, 17], notice: { title: '2026년 투자 포트폴리오 재조정', description: '고수익 프로젝트 집중 투자 | 저효율 사업 정리 | ROI 30% 목표' }},
        '인사 > 인력 운용': { title: '인력 운용 시스템', description: '부서별 인력 현황, 업무 배분 최적화, 인력 재배치 추천', actions: ['업무 부하 실시간 모니터링', 'AI 기반 인력 배치 추천', '부서간 협업 지표 분석'], kpis: [{ label: '총 인원', value: '342', unit: '명', change: '+12명', trend: 'up', icon: 'users' }, { label: '평균 업무 부하', value: '78', unit: '%', change: '-5%', trend: 'down', icon: 'activity' }, { label: '부서간 협업', value: '85', unit: '점', change: '+8점', trend: 'up', icon: 'users' }, { label: '인력 활용률', value: '92', unit: '%', change: '+3%', trend: 'up', icon: 'trending-up' }], tableData: [{ dept: '개발팀', target: 80, actual: 88, achievement: 110, trend: 'up', variance: 8 }, { dept: '영업팀', target: 60, actual: 65, achievement: 108, trend: 'up', variance: 5 }, { dept: '마케팅팀', target: 40, actual: 42, achievement: 105, trend: 'up', variance: 2 }, { dept: '디자인팀', target: 35, actual: 38, achievement: 109, trend: 'up', variance: 3 }, { dept: '경영지원팀', target: 45, actual: 48, achievement: 107, trend: 'up', variance: 3 }], chartLabels: ['9월', '10월', '11월', '12월', '1월', '2월'], chartRevenue: [315, 320, 328, 335, 339, 342], chartTarget: [310, 315, 320, 330, 335, 340], chartCost: [82, 80, 78, 76, 75, 78], notice: { title: '조직 개편 완료 및 신규 부서 신설', description: 'AI개발팀 신설 | 인원 12명 증원 | 업무 효율성 15% 향상' }},
        '인사 > 4대 보험': { title: '4대 보험 관리 시스템', description: '4대 보험 가입 현황, 보험료 납부 관리, 급여 연동 자동 처리', actions: ['보험료 자동 계산', '급여 연동 실시간 갱신', '법령 개정 자동 반영'], kpis: [{ label: '가입 인원', value: '342', unit: '명', change: '+12명', trend: 'up', icon: 'users' }, { label: '월 보험료', value: '48.5', unit: '백만원', change: '+2.3백만원', trend: 'up', icon: 'credit-card' }, { label: '납부 적기율', value: '100', unit: '%', change: '0%', trend: 'up', icon: 'check-circle' }, { label: '처리 정확도', value: '99.8', unit: '%', change: '+0.2%', trend: 'up', icon: 'shield' }], tableData: [{ dept: '국민연금', target: 342, actual: 342, achievement: 100, trend: 'up', variance: 0 }, { dept: '건강보험', target: 342, actual: 342, achievement: 100, trend: 'up', variance: 0 }, { dept: '고용보험', target: 342, actual: 342, achievement: 100, trend: 'up', variance: 0 }, { dept: '산재보험', target: 342, actual: 342, achievement: 100, trend: 'up', variance: 0 }, { dept: '월 총 보험료', target: 45, actual: 48.5, achievement: 108, trend: 'up', variance: 3.5 }], chartLabels: ['9월', '10월', '11월', '12월', '1월', '2월'], chartRevenue: [42.5, 43.8, 45.2, 46.5, 47.8, 48.5], chartTarget: [42, 43, 44, 44.5, 45, 45], chartCost: [342, 342, 342, 342, 342, 342], notice: { title: '2026년 4대 보험료율 변경 안내', description: '3월부터 건강보험료율 0.18% 인상 | 자동 반영 완료 | 급여 공제 확인' }},
        '영업·마케팅 > 고객 분석': { title: '고객 분석 시스템', description: '고객 세그먼트 분석, 구매 패턴 분석, 이탈 고객 관리', actions: ['고객 세그먼트 AI 분류', '이탈 위험 고객 알림', 'LTV 자동 계산'], kpis: [{ label: '총 고객수', value: '1,847', unit: '개사', change: '+124개사', trend: 'up', icon: 'users' }, { label: '신규 고객', value: '87', unit: '개사', change: '+15개사', trend: 'up', icon: 'user-plus' }, { label: '고객 만족도', value: '4.6', unit: '점', change: '+0.3점', trend: 'up', icon: 'star' }, { label: 'LTV', value: '280', unit: '만원', change: '+35만원', trend: 'up', icon: 'trending-up' }], tableData: [{ dept: 'VIP 고객', target: 150, actual: 182, achievement: 121, trend: 'up', variance: 32 }, { dept: '우수 고객', target: 400, actual: 458, achievement: 115, trend: 'up', variance: 58 }, { dept: '일반 고객', target: 800, actual: 847, achievement: 106, trend: 'up', variance: 47 }, { dept: '신규 고객', target: 200, actual: 245, achievement: 123, trend: 'up', variance: 45 }, { dept: '휴면 고객', target: 100, actual: 115, achievement: 85, trend: 'down', variance: -15 }], chartLabels: ['9월', '10월', '11월', '12월', '1월', '2월'], chartRevenue: [1580, 1650, 1720, 1780, 1820, 1847], chartTarget: [1600, 1650, 1700, 1750, 1800, 1850], chartCost: [85, 82, 78, 75, 72, 70], notice: { title: 'VIP 고객 전용 프로그램 런칭', description: '3월부터 VIP 전용 혜택 제공 | 고객 만족도 향상 | 재구매율 증대 기대' }},
        '영업·마케팅 > 시장 조사': { title: '시장 조사 분석 시스템', description: '업계 트렌드 분석, 경쟁사 분석, 시장 기회 발굴', actions: ['경쟁사 동향 자동 수집', '시장 트렌드 AI 분석', '신규 시장 기회 알림'], kpis: [{ label: '시장 점유율', value: '15.8', unit: '%', change: '+2.3%', trend: 'up', icon: 'trending-up' }, { label: '브랜드 인지도', value: '68', unit: '점', change: '+5점', trend: 'up', icon: 'award' }, { label: '경쟁 우위', value: '72', unit: '점', change: '+8점', trend: 'up', icon: 'shield' }, { label: '시장 성장률', value: '12.5', unit: '%', change: '+1.8%', trend: 'up', icon: 'trending-up' }], tableData: [{ dept: '제품 경쟁력', target: 70, actual: 78, achievement: 111, trend: 'up', variance: 8 }, { dept: '가격 경쟁력', target: 65, actual: 72, achievement: 111, trend: 'up', variance: 7 }, { dept: '서비스 품질', target: 75, actual: 82, achievement: 109, trend: 'up', variance: 7 }, { dept: '브랜드 가치', target: 60, actual: 68, achievement: 113, trend: 'up', variance: 8 }, { dept: '고객 충성도', target: 70, actual: 75, achievement: 107, trend: 'up', variance: 5 }], chartLabels: ['9월', '10월', '11월', '12월', '1월', '2월'], chartRevenue: [12.5, 13.2, 13.8, 14.5, 15.2, 15.8], chartTarget: [13, 13.5, 14, 14.5, 15, 15.5], chartCost: [58, 60, 62, 65, 66, 68], notice: { title: '2026 상반기 시장 전망 보고서 발간', description: '업계 성장률 12.5% 예상 | 신규 시장 진출 전략 수립 | 경쟁사 대비 우위 확보' }},
        '생산·품질 > 품질 지표': { title: '품질 지표 관리 시스템', description: '공정별 품질 지표, 검사 결과 추적, 품질 개선 활동', actions: ['품질 지표 실시간 모니터링', '이상 패턴 자동 탐지', '개선 활동 효과 분석'], kpis: [{ label: '품질 점수', value: '96.8', unit: '점', change: '+2.3점', trend: 'up', icon: 'star' }, { label: '합격률', value: '98.8', unit: '%', change: '+0.5%', trend: 'up', icon: 'check-circle' }, { label: '검사 정확도', value: '99.2', unit: '%', change: '+0.3%', trend: 'up', icon: 'shield' }, { label: '개선 건수', value: '24', unit: '건', change: '+8건', trend: 'up', icon: 'trending-up' }], tableData: [{ dept: '외관 검사', target: 98, actual: 99.2, achievement: 101, trend: 'up', variance: 1.2 }, { dept: '치수 검사', target: 99, actual: 99.5, achievement: 101, trend: 'up', variance: 0.5 }, { dept: '기능 검사', target: 97, actual: 98.5, achievement: 102, trend: 'up', variance: 1.5 }, { dept: '내구성 검사', target: 96, actual: 97.8, achievement: 102, trend: 'up', variance: 1.8 }, { dept: '포장 검사', target: 99, actual: 99.8, achievement: 101, trend: 'up', variance: 0.8 }], chartLabels: ['9월', '10월', '11월', '12월', '1월', '2월'], chartRevenue: [94.5, 95.2, 95.8, 96.2, 96.5, 96.8], chartTarget: [95, 95.5, 96, 96, 96.5, 97], chartCost: [18, 20, 22, 23, 24, 24], notice: { title: '품질 개선 활동 우수 사례 공유', description: '공정 개선 24건 완료 | 불량률 28% 감소 | 고객 만족도 상승' }},
        '생산·품질 > 공정 관리': { title: '공정 관리 시스템', description: '공정별 효율성 분석, 병목 구간 탐지, 공정 최적화 제안', actions: ['공정 효율 실시간 분석', '병목 구간 자동 탐지', '최적화 방안 AI 추천'], kpis: [{ label: '공정 효율', value: '94.5', unit: '%', change: '+3.2%', trend: 'up', icon: 'activity' }, { label: '사이클 타임', value: '28', unit: '분', change: '-4분', trend: 'down', icon: 'clock' }, { label: '작업 정확도', value: '98.5', unit: '%', change: '+1.2%', trend: 'up', icon: 'check-circle' }, { label: '공정 준수율', value: '97.8', unit: '%', change: '+2.1%', trend: 'up', icon: 'shield' }], tableData: [{ dept: '원자재 입고', target: 30, actual: 28, achievement: 107, trend: 'down', variance: -2 }, { dept: '전처리 공정', target: 45, actual: 42, achievement: 107, trend: 'down', variance: -3 }, { dept: '주공정', target: 120, actual: 115, achievement: 104, trend: 'down', variance: -5 }, { dept: '후처리 공정', target: 35, actual: 32, achievement: 109, trend: 'down', variance: -3 }, { dept: '검사 포장', target: 25, actual: 23, achievement: 108, trend: 'down', variance: -2 }], chartLabels: ['9월', '10월', '11월', '12월', '1월', '2월'], chartRevenue: [90.5, 91.8, 92.5, 93.2, 93.8, 94.5], chartTarget: [90, 91, 92, 93, 94, 95], chartCost: [35, 33, 32, 30, 29, 28], notice: { title: '스마트 공장 시스템 고도화 완료', description: 'IoT 센서 증설 | 실시간 데이터 수집 | 공정 효율 15% 향상' }}
      };
      return reports[category] || reports['회계 > 매입매출 현황'];
    }

    // Update KPI Cards
    function updateKPICards(kpis) {
      const kpiContainer = document.querySelector('#reportView .grid.grid-cols-4');
      if (!kpiContainer) return;
      kpiContainer.innerHTML = kpis.map(kpi => `
        <div class="bg-white border-3 border-gray-300 rounded-lg p-5 shadow-md card-hover">
          <div class="flex items-start justify-between mb-3">
            <span class="text-sm text-gray-600 font-bold">${kpi.label}</span>
            <i data-lucide="${kpi.icon}" class="w-5 h-5 ${kpi.trend === 'up' ? 'text-red-600' : 'text-blue-600'}"></i>
          </div>
          <div class="mb-2">
            <span class="text-3xl font-black text-gray-900">${kpi.value}</span>
            <span class="text-sm text-gray-600 font-semibold ml-1">${kpi.unit}</span>
          </div>
          <div class="flex items-center gap-2">
            <span class="text-sm font-bold flex items-center gap-1 ${kpi.trend === 'up' ? 'text-red-600' : 'text-blue-600'}">
              ${kpi.trend === 'up' ? '▲' : '▼'} ${kpi.change}
            </span>
            <span class="text-xs text-gray-500">전월 대비</span>
          </div>
        </div>
      `).join('');
      lucide.createIcons();
    }

    // Report Functions
    function updateKPITable() {
      const tbody = document.getElementById('kpiTableBody');
      const filter = document.getElementById('departmentFilter').value;
      
      const filteredData = filter === '전체' 
        ? departmentData 
        : departmentData.filter(d => d.dept === filter);
      
      tbody.innerHTML = filteredData.map(row => `
        <tr class="border-b border-gray-200 hover:bg-blue-50 transition-colors">
          <td class="px-6 py-4 text-sm font-black text-gray-900">${row.dept}</td>
          <td class="px-6 py-4 text-sm font-semibold text-gray-700 text-right">${row.target.toLocaleString()}</td>
          <td class="px-6 py-4 text-sm font-semibold text-gray-700 text-right">${row.actual.toLocaleString()}</td>
          <td class="px-6 py-4 text-sm font-bold text-right">
            <span class="${row.achievement >= 100 ? 'text-gray-900' : 'text-gray-600'}">${row.achievement}%</span>
          </td>
          <td class="px-6 py-4 text-sm font-bold text-right">
            ${row.trend === 'up' 
              ? `<span class="text-red-600 flex items-center justify-end gap-1">
                  <span>▲</span>
                  <span>${Math.abs(((row.achievement - 100) / 100 * row.target / 100).toFixed(0))}</span>
                </span>`
              : `<span class="text-blue-600 flex items-center justify-end gap-1">
                  <span>▼</span>
                  <span>${Math.abs(((100 - row.achievement) / 100 * row.target / 100).toFixed(0))}</span>
                </span>`
            }
          </td>
          <td class="px-6 py-4 text-sm font-bold text-right">
            <span class="${row.variance > 0 ? 'text-red-600' : 'text-blue-600'}">
              ${row.variance > 0 ? '+' : ''}${row.variance.toLocaleString()}
            </span>
          </td>
        </tr>
      `).join('');
    }

    // Charts
    let revenueChart = null;
    let comparisonChart = null;

    function initCharts() {
      // Destroy existing charts
      if (revenueChart) revenueChart.destroy();
      if (comparisonChart) comparisonChart.destroy();
      
      // Revenue Trend Chart
      const revenueCtx = document.getElementById('revenueChart');
      if (revenueCtx) {
        revenueChart = new Chart(revenueCtx, {
          type: 'line',
          data: {
            labels: monthlyData.labels,
            datasets: [
              {
                label: '매출액',
                data: monthlyData.revenue,
                borderColor: '#DC2626',
                backgroundColor: 'rgba(220, 38, 38, 0.1)',
                borderWidth: 3,
                fill: true,
                tension: 0.4
              },
              {
                label: '목표',
                data: monthlyData.target,
                borderColor: '#0F4C81',
                backgroundColor: 'rgba(15, 76, 129, 0.1)',
                borderWidth: 3,
                fill: true,
                tension: 0.4
              }
            ]
          },
          options: {
            responsive: true,
            maintainAspectRatio: false,
            plugins: {
              legend: {
                labels: {
                  font: { weight: 'bold', size: 12 }
                }
              }
            },
            scales: {
              y: {
                beginAtZero: false,
                ticks: {
                  font: { weight: 600 }
                }
              },
              x: {
                ticks: {
                  font: { weight: 600 }
                }
              }
            }
          }
        });
      }
      
      // Comparison Chart
      const comparisonCtx = document.getElementById('comparisonChart');
      if (comparisonCtx) {
        comparisonChart = new Chart(comparisonCtx, {
          type: 'bar',
          data: {
            labels: monthlyData.labels,
            datasets: [
              {
                label: '매출',
                data: monthlyData.revenue,
                backgroundColor: '#DC2626',
                borderWidth: 0
              },
              {
                label: '비용',
                data: monthlyData.cost,
                backgroundColor: '#2563EB',
                borderWidth: 0
              }
            ]
          },
          options: {
            responsive: true,
            maintainAspectRatio: false,
            plugins: {
              legend: {
                labels: {
                  font: { weight: 'bold', size: 12 }
                }
              }
            },
            scales: {
              y: {
                beginAtZero: true,
                ticks: {
                  font: { weight: 600 }
                }
              },
              x: {
                ticks: {
                  font: { weight: 600 }
                }
              }
            }
          }
        });
      }
    }

    // Utility Functions
    function refreshData() {
      showToast('데이터가 갱신되었습니다');
      updateKPITable();
      if (currentView === 'report') {
        initCharts();
      }
    }

    function toggleBookmark() {
      isBookmarked = !isBookmarked;
      
      if (isBookmarked) {
        // Add to saved reports
        const iconMap = {'회계': 'file-text', '인사': 'user', '영업·마케팅': 'bar-chart-3', '생산·품질': 'settings'};
        const categoryPrefix = currentCategory.split(' > ')[0];
        const icon = iconMap[categoryPrefix] || 'file-text';
        const now = new Date();
        const savedAt = `${now.getFullYear()}-${String(now.getMonth() + 1).padStart(2, '0')}-${String(now.getDate()).padStart(2, '0')} ${String(now.getHours()).padStart(2, '0')}:${String(now.getMinutes()).padStart(2, '0')}`;
        savedReports.unshift({ category: currentCategory, savedAt, icon });
        showToast('보고서가 저장되었습니다');
      } else {
        // Remove from saved reports
        const index = savedReports.findIndex(r => r.category === currentCategory);
        if (index > -1) savedReports.splice(index, 1);
        showToast('저장이 취소되었습니다');
      }
      
      updateBookmarkButton();
    }
    
    function updateBookmarkButton() {
      const btn = document.getElementById('bookmarkBtn');
      if (btn) {
        if (isBookmarked) {
          btn.innerHTML = '<i data-lucide=\"star\" class=\"w-4 h-4\"></i> 저장됨';
          btn.className = 'px-4 py-2 rounded font-bold transition-colors flex items-center gap-2 border-2 bg-yellow-500 text-white border-yellow-600 hover:bg-yellow-600';
        } else {
          btn.innerHTML = '<i data-lucide=\"star\" class=\"w-4 h-4\"></i> 저장';
          btn.className = 'px-4 py-2 rounded font-bold transition-colors flex items-center gap-2 border-2 bg-white text-gray-800 border-gray-300 hover:bg-gray-50';
        }
        lucide.createIcons();
      }
    }

    function downloadReport() {
      showToast('보고서를 다운로드합니다');
    }

    // Saved Reports State
    let savedReports = [
      { category: '회계 > 매입매출 현황', savedAt: '2026-02-11 10:30', icon: 'file-text' },
      { category: '인사 > 채용 현황', savedAt: '2026-02-10 15:20', icon: 'user' },
      { category: '영업·마케팅 > 매출 분석', savedAt: '2026-02-09 09:15', icon: 'bar-chart-3' },
      { category: '생산·품질 > 불량률 분석', savedAt: '2026-02-08 14:45', icon: 'settings' },
      { category: '회계 > 결산 보고서', savedAt: '2026-02-07 11:00', icon: 'file-text' },
      { category: '영업·마케팅 > 캠페인 성과', savedAt: '2026-02-06 16:30', icon: 'bar-chart-3' }
    ];

    function showDataManager() {
      currentView = 'dataManager';
      document.querySelectorAll('.view-content').forEach(el => el.classList.add('hidden'));
      document.getElementById('dataManagerView').classList.remove('hidden');
      window.scrollTo({ top: 0, behavior: 'smooth' });
      setTimeout(() => lucide.createIcons(), 100);
    }

    function showBookmarks() {
      currentView = 'bookmarks';
      document.querySelectorAll('.view-content').forEach(el => el.classList.add('hidden'));
      document.getElementById('bookmarksView').classList.remove('hidden');
      populateBookmarks();
      window.scrollTo({ top: 0, behavior: 'smooth' });
    }
    
    function populateBookmarks() {
      const grid = document.getElementById('bookmarksGrid');
      grid.innerHTML = '';
      
      if (savedReports.length === 0) {
        grid.innerHTML = `
          <div class="col-span-2 text-center py-16">
            <i data-lucide="star" class="w-16 h-16 text-gray-300 mx-auto mb-4"></i>
            <p class="text-xl font-bold text-gray-500">저장된 보고서가 없습니다</p>
            <p class="text-sm text-gray-400 font-semibold mt-2">보고서 화면에서 별표 아이콘을 클릭하여 저장하세요</p>
          </div>
        `;
      } else {
        savedReports.forEach((report, index) => {
          const card = document.createElement('div');
          card.className = 'bg-white border-3 border-gray-300 rounded-xl p-8 card-hover cursor-pointer';
          card.innerHTML = `
            <div class="flex items-start justify-between mb-4">
              <div class="flex items-center gap-3">
                <div class="w-12 h-12 bg-yellow-100 rounded-lg flex items-center justify-center">
                  <i data-lucide="${report.icon}" class="w-6 h-6 text-yellow-600"></i>
                </div>
                <div>
                  <h3 class="text-xl font-black text-gray-900">${report.category}</h3>
                  <p class="text-sm text-gray-500 font-semibold">저장: ${report.savedAt}</p>
                </div>
              </div>
              <button onclick="event.stopPropagation(); removeSavedReport(${index})" class="p-2 hover:bg-red-50 rounded-lg transition-colors">
                <i data-lucide="trash-2" class="w-5 h-5 text-red-500"></i>
              </button>
            </div>
            <button onclick="navigateTo('report', '${report.category}')" class="w-full px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg font-bold transition-colors">
              보고서 열기
            </button>
          `;
          grid.appendChild(card);
        });
      }
      
      lucide.createIcons();
    }
    
    function removeSavedReport(index) {
      savedReports.splice(index, 1);
      populateBookmarks();
      showToast('저장된 보고서가 삭제되었습니다');
    }

    function showToast(message) {
      const toast = document.createElement('div');
      toast.className = 'fixed bottom-8 right-8 bg-gray-900 text-white px-6 py-4 rounded-lg shadow-2xl font-bold z-50 fade-in';
      toast.textContent = message;
      document.body.appendChild(toast);
      
      setTimeout(() => {
        toast.style.animation = 'fadeOut 0.3s ease-out';
        setTimeout(() => toast.remove(), 300);
      }, 2000);
    }

    // Category Functions
    function showCategoryMenu(category) {
      navigateTo('category', category);
    }

    function populateCategoryItems(category) {
      const grid = document.getElementById('categoryItemsGrid');
      grid.innerHTML = '';
      
      const categoryData = {
        'accounting': [
          { title: '매입매출 현황', description: '최근 6개월간 매입매출 현황을 분석합니다.', icon: 'file-text' },
          { title: '결산 보고서', description: '연간 결산 보고서를 생성합니다.', icon: 'file-text' },
          { title: '자금흐름 분석', description: '자금흐름을 분석하여 재무 상태를 파악합니다.', icon: 'file-text' },
          { title: 'ROI 보고서', description: '투자 수익률을 분석한 보고서를 생성합니다.', icon: 'file-text' }
        ],
        'hr': [
          { title: '채용 현황', description: '현재 채용 현황을 분석합니다.', icon: 'user' },
          { title: '인력 운용', description: '인력 운용 상태를 분석합니다.', icon: 'user' },
          { title: '근태 관리', description: '직원 근태를 관리합니다.', icon: 'user' },
          { title: '4대 보험', description: '4대 보험 가입 현황을 확인합니다.', icon: 'user' }
        ],
        'business': [
          { title: '매출 분석', description: '최근 6개월간 매출을 분석합니다.', icon: 'bar-chart-3' },
          { title: '고객 분석', description: '고객 데이터를 분석합니다.', icon: 'bar-chart-3' },
          { title: '캠페인 성과', description: '마케팅 캠페인 성과를 분석합니다.', icon: 'bar-chart-3' },
          { title: '시장 조사', description: '시장 조사 결과를 분석합니다.', icon: 'bar-chart-3' }
        ],
        'production': [
          { title: '생산 실적', description: '생산 실적을 분석합니다.', icon: 'settings' },
          { title: '품질 지표', description: '품질 지표를 분석합니다.', icon: 'settings' },
          { title: '불량률 분석', description: '불량률을 분석합니다.', icon: 'settings' },
          { title: '공정 관리', description: '공정 관리를 분석합니다.', icon: 'settings' }
        ],
        'it': [
          { title: '보안 감사', description: '보안 감사를 실시합니다.', icon: 'database' },
          { title: '시스템 장애', description: '시스템 장애를 분석합니다.', icon: 'database' },
          { title: '데이터 백업', description: '데이터 백업을 관리합니다.', icon: 'database' },
          { title: '접근 권한', description: '접근 권한을 관리합니다.', icon: 'database' }
        ]
      };
      
      const categoryInfo = {
        'accounting': { title: '회계·재무', koreanName: '회계', icon: 'file-text' },
        'hr': { title: '인사·노무', koreanName: '인사', icon: 'users' },
        'business': { title: '영업·마케팅', koreanName: '영업·마케팅', icon: 'bar-chart-3' },
        'production': { title: '생산·품질', koreanName: '생산·품질', icon: 'settings' },
        'it': { title: 'IT·보안', koreanName: 'IT·보안', icon: 'shield' }
      };
      
      // Update header
      const info = categoryInfo[category];
      if (info) {
        document.getElementById('categoryTitle').textContent = info.title;
        const iconElement = document.getElementById('categoryIcon');
        iconElement.setAttribute('data-lucide', info.icon);
        lucide.createIcons();
      }
      
      const items = categoryData[category] || [];
      
      items.forEach(item => {
        const card = document.createElement('div');
        card.className = 'card-hover bg-white p-8 rounded-xl border-3 border-gray-300 cursor-pointer transition-all';
        card.innerHTML = `
          <div class="text-center">
            <div class="w-16 h-16 mx-auto mb-4 bg-transparent border-3 border-gray-300 rounded-xl flex items-center justify-center">
              <i data-lucide="${item.icon}" class="w-8 h-8 text-gray-700"></i>
            </div>
            <h3 class="text-2xl font-black text-gray-900 mb-2">${item.title}</h3>
            <p class="text-sm text-gray-600 font-semibold">${item.description}</p>
          </div>
        `;
        card.onclick = () => navigateTo('report', `${categoryInfo[category].koreanName} > ${item.title}`);
        grid.appendChild(card);
      });
      
      lucide.createIcons();
    }

    // Event Listeners
    document.getElementById('departmentFilter').addEventListener('change', updateKPITable);
    document.getElementById('dateRange').addEventListener('change', () => {
      showToast('날짜 범위가 변경되었습니다');
      initCharts();
    });

    // Initialize on load
    window.addEventListener('load', () => {
      lucide.createIcons();
      navigateTo('chatbot');
    });
  </script>

</body>
</html>